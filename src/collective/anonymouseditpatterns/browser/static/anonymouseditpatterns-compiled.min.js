!function(){function t(){}var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},n=e._,i=Array.prototype,a=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,o=i.push,l=i.slice,h=a.toString,r=a.hasOwnProperty,s=Array.isArray,c=Object.keys,d=Object.create,p=function(e){return e instanceof p?e:this instanceof p?void(this._wrapped=e):new p(e)};"undefined"==typeof exports||exports.nodeType?e._=p:(exports="undefined"!=typeof module&&!module.nodeType&&module.exports?module.exports=p:exports)._=p,p.VERSION="1.9.1";function f(o,r,e){if(void 0===r)return o;switch(null==e?3:e){case 1:return function(e){return o.call(r,e)};case 3:return function(e,t,n){return o.call(r,e,t,n)};case 4:return function(e,t,n,i){return o.call(r,e,t,n,i)}}return function(){return o.apply(r,arguments)}}function g(e,t,n){return p.iteratee!==m?p.iteratee(e,t):null==e?p.identity:p.isFunction(e)?f(e,t,n):p.isObject(e)&&!p.isArray(e)?p.matcher(e):p.property(e)}var m;p.iteratee=m=function(e,t){return g(e,t,1/0)};function v(o,r){return r=null==r?o.length-1:+r,function(){for(var e=Math.max(arguments.length-r,0),t=Array(e),n=0;n<e;n++)t[n]=arguments[n+r];switch(r){case 0:return o.call(this,t);case 1:return o.call(this,arguments[0],t);case 2:return o.call(this,arguments[0],arguments[1],t)}for(var i=Array(r+1),n=0;n<r;n++)i[n]=arguments[n];return i[r]=t,o.apply(this,i)}}function y(e){return p.isObject(e)?d?d(e):(t.prototype=e,e=new t,t.prototype=null,e):{}}function b(t){return function(e){return null==e?void 0:e[t]}}function w(e,t){return null!=e&&r.call(e,t)}function x(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function k(e){return"number"==typeof(e=C(e))&&0<=e&&e<=S}var S=Math.pow(2,53)-1,C=b("length");p.each=p.forEach=function(e,t,n){if(t=f(t,n),k(e))for(o=0,r=e.length;o<r;o++)t(e[o],o,e);else for(var i=p.keys(e),o=0,r=i.length;o<r;o++)t(e[i[o]],i[o],e);return e},p.map=p.collect=function(e,t,n){t=g(t,n);for(var i=!k(e)&&p.keys(e),o=(i||e).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=t(e[s],s,e)}return r};var T=function(l){return function(e,t,n,i){var o=3<=arguments.length;return function(e,t,n,i){var o=!k(e)&&p.keys(e),r=(o||e).length,a=0<l?0:r-1;for(i||(n=e[o?o[a]:a],a+=l);0<=a&&a<r;a+=l){var s=o?o[a]:a;n=t(n,e[s],s,e)}return n}(e,f(t,i,4),n,o)}};p.reduce=p.foldl=p.inject=T(1),p.reduceRight=p.foldr=T(-1),p.find=p.detect=function(e,t,n){n=(k(e)?p.findIndex:p.findKey)(e,t,n);if(void 0!==n&&-1!==n)return e[n]},p.filter=p.select=function(e,i,t){var o=[];return i=g(i,t),p.each(e,function(e,t,n){i(e,t,n)&&o.push(e)}),o},p.reject=function(e,t,n){return p.filter(e,p.negate(g(t)),n)},p.every=p.all=function(e,t,n){t=g(t,n);for(var i=!k(e)&&p.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},p.some=p.any=function(e,t,n){t=g(t,n);for(var i=!k(e)&&p.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},p.contains=p.includes=p.include=function(e,t,n,i){return k(e)||(e=p.values(e)),"number"==typeof n&&!i||(n=0),0<=p.indexOf(e,t,n)},p.invoke=v(function(e,n,i){var o,r;return p.isFunction(n)?r=n:p.isArray(n)&&(o=n.slice(0,-1),n=n[n.length-1]),p.map(e,function(e){var t=r;if(!t){if(null==(e=o&&o.length?x(e,o):e))return;t=e[n]}return null==t?t:t.apply(e,i)})}),p.pluck=function(e,t){return p.map(e,p.property(t))},p.where=function(e,t){return p.filter(e,p.matcher(t))},p.findWhere=function(e,t){return p.find(e,p.matcher(t))},p.max=function(e,i,t){var n,o,r=-1/0,a=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=k(e)?e:p.values(e)).length;s<l;s++)null!=(n=e[s])&&r<n&&(r=n);else i=g(i,t),p.each(e,function(e,t,n){o=i(e,t,n),(a<o||o===-1/0&&r===-1/0)&&(r=e,a=o)});return r},p.min=function(e,i,t){var n,o,r=1/0,a=1/0;if(null==i||"number"==typeof i&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=k(e)?e:p.values(e)).length;s<l;s++)null!=(n=e[s])&&n<r&&(r=n);else i=g(i,t),p.each(e,function(e,t,n){((o=i(e,t,n))<a||o===1/0&&r===1/0)&&(r=e,a=o)});return r},p.shuffle=function(e){return p.sample(e,1/0)},p.sample=function(e,t,n){if(null==t||n)return(e=!k(e)?p.values(e):e)[p.random(e.length-1)];var i=k(e)?p.clone(e):p.values(e),e=C(i);t=Math.max(Math.min(t,e),0);for(var o=e-1,r=0;r<t;r++){var a=p.random(r,o),s=i[r];i[r]=i[a],i[a]=s}return i.slice(0,t)},p.sortBy=function(e,i,t){var o=0;return i=g(i,t),p.pluck(p.map(e,function(e,t,n){return{value:e,index:o++,criteria:i(e,t,n)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var O=function(r,t){return function(n,i,e){var o=t?[[],[]]:{};return i=g(i,e),p.each(n,function(e,t){t=i(e,t,n);r(o,e,t)}),o}};p.groupBy=O(function(e,t,n){w(e,n)?e[n].push(t):e[n]=[t]}),p.indexBy=O(function(e,t,n){e[n]=t}),p.countBy=O(function(e,t,n){w(e,n)?e[n]++:e[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(e){return e?p.isArray(e)?l.call(e):p.isString(e)?e.match(E):k(e)?p.map(e,p.identity):p.values(e):[]},p.size=function(e){return null==e?0:(k(e)?e:p.keys(e)).length},p.partition=O(function(e,t,n){e[n?0:1].push(t)},!0),p.first=p.head=p.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:p.initial(e,e.length-t)},p.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},p.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:p.rest(e,Math.max(0,e.length-t))},p.rest=p.tail=p.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},p.compact=function(e){return p.filter(e,Boolean)};var j=function(e,t,n,i){for(var o=(i=i||[]).length,r=0,a=C(e);r<a;r++){var s=e[r];if(k(s)&&(p.isArray(s)||p.isArguments(s)))if(t)for(var l=0,c=s.length;l<c;)i[o++]=s[l++];else j(s,t,n,i),o=i.length;else n||(i[o++]=s)}return i};p.flatten=function(e,t){return j(e,t,!1)},p.without=v(function(e,t){return p.difference(e,t)}),p.uniq=p.unique=function(e,t,n,i){p.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=g(n,i));for(var o=[],r=[],a=0,s=C(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&r===c||o.push(l),r=c):n?p.contains(r,c)||(r.push(c),o.push(l)):p.contains(o,l)||o.push(l)}return o},p.union=v(function(e){return p.uniq(j(e,!0,!0))}),p.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=C(e);i<o;i++){var r=e[i];if(!p.contains(t,r)){for(var a=1;a<n&&p.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},p.difference=v(function(e,t){return t=j(t,!0,!0),p.filter(e,function(e){return!p.contains(t,e)})}),p.unzip=function(e){for(var t=e&&p.max(e,C).length||0,n=Array(t),i=0;i<t;i++)n[i]=p.pluck(e,i);return n},p.zip=v(p.unzip),p.object=function(e,t){for(var n={},i=0,o=C(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};T=function(r){return function(e,t,n){t=g(t,n);for(var i=C(e),o=0<r?0:i-1;0<=o&&o<i;o+=r)if(t(e[o],o,e))return o;return-1}};p.findIndex=T(1),p.findLastIndex=T(-1),p.sortedIndex=function(e,t,n,i){for(var o=(n=g(n,i,1))(t),r=0,a=C(e);r<a;){var s=Math.floor((r+a)/2);n(e[s])<o?r=s+1:a=s}return r};O=function(r,a,s){return function(e,t,n){var i=0,o=C(e);if("number"==typeof n)0<r?i=0<=n?n:Math.max(n+o,i):o=0<=n?Math.min(n+1,o):n+o+1;else if(s&&n&&o)return e[n=s(e,t)]===t?n:-1;if(t!=t)return 0<=(n=a(l.call(e,i,o),p.isNaN))?n+i:-1;for(n=0<r?i:o-1;0<=n&&n<o;n+=r)if(e[n]===t)return n;return-1}};p.indexOf=O(1,p.findIndex,p.sortedIndex),p.lastIndexOf=O(-1,p.findLastIndex),p.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||(t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},p.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(l.call(e,i,i+=t));return n};function A(e,t,n,i,o){return i instanceof t?(n=y(e.prototype),o=e.apply(n,o),p.isObject(o)?o:n):e.apply(n,o)}p.bind=v(function(t,n,i){if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");var o=v(function(e){return A(t,o,n,this,i.concat(e))});return o}),p.partial=v(function(o,r){var a=p.partial.placeholder,s=function(){for(var e=0,t=r.length,n=Array(t),i=0;i<t;i++)n[i]=r[i]===a?arguments[e++]:r[i];for(;e<arguments.length;)n.push(arguments[e++]);return A(o,s,this,this,n)};return s}),(p.partial.placeholder=p).bindAll=v(function(e,t){var n=(t=j(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=p.bind(e[i],e)}}),p.memoize=function(i,o){var r=function(e){var t=r.cache,n=""+(o?o.apply(this,arguments):e);return w(t,n)||(t[n]=i.apply(this,arguments)),t[n]};return r.cache={},r},p.delay=v(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(n,i,o){var r,a,s,l,c=0;o=o||{};function u(){c=!1===o.leading?0:p.now(),r=null,l=n.apply(a,s),r||(a=s=null)}function e(){var e=p.now();c||!1!==o.leading||(c=e);var t=i-(e-c);return a=this,s=arguments,t<=0||i<t?(r&&(clearTimeout(r),r=null),c=e,l=n.apply(a,s),r||(a=s=null)):r||!1===o.trailing||(r=setTimeout(u,t)),l}return e.cancel=function(){clearTimeout(r),c=0,r=a=s=null},e},p.debounce=function(n,i,o){function r(e,t){a=null,t&&(s=n.apply(e,t))}var a,s,e=v(function(e){var t;return a&&clearTimeout(a),o?(t=!a,a=setTimeout(r,i),t&&(s=n.apply(this,e))):a=p.delay(r,i,this,e),s});return e.cancel=function(){clearTimeout(a),a=null},e},p.wrap=function(e,t){return p.partial(t,e)},p.negate=function(e){return function(){return!e.apply(this,arguments)}},p.compose=function(){var n=arguments,i=n.length-1;return function(){for(var e=i,t=n[i].apply(this,arguments);e--;)t=n[e].call(this,t);return t}},p.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},p.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},p.once=p.partial(p.before,2),p.restArguments=v;function _(e,t){var n=P.length,i=e.constructor,o=p.isFunction(i)&&i.prototype||a,r="constructor";for(w(e,r)&&!p.contains(t,r)&&t.push(r);n--;)(r=P[n])in e&&e[r]!==o[r]&&!p.contains(t,r)&&t.push(r)}var I=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];p.keys=function(e){if(!p.isObject(e))return[];if(c)return c(e);var t,n=[];for(t in e)w(e,t)&&n.push(t);return I&&_(e,n),n},p.allKeys=function(e){if(!p.isObject(e))return[];var t,n=[];for(t in e)n.push(t);return I&&_(e,n),n},p.values=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},p.mapObject=function(e,t,n){t=g(t,n);for(var i=p.keys(e),o=i.length,r={},a=0;a<o;a++){var s=i[a];r[s]=t(e[s],s,e)}return r},p.pairs=function(e){for(var t=p.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},p.invert=function(e){for(var t={},n=p.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},p.functions=p.methods=function(e){var t,n=[];for(t in e)p.isFunction(e[t])&&n.push(t);return n.sort()};T=function(l,c){return function(e){var t=arguments.length;if(c&&(e=Object(e)),t<2||null==e)return e;for(var n=1;n<t;n++)for(var i=arguments[n],o=l(i),r=o.length,a=0;a<r;a++){var s=o[a];c&&void 0!==e[s]||(e[s]=i[s])}return e}};p.extend=T(p.allKeys),p.extendOwn=p.assign=T(p.keys),p.findKey=function(e,t,n){t=g(t,n);for(var i,o=p.keys(e),r=0,a=o.length;r<a;r++)if(t(e[i=o[r]],i,e))return i};function D(e,t,n){return t in n}var $,M;p.pick=v(function(e,t){var n={},i=t[0];if(null==e)return n;p.isFunction(i)?(1<t.length&&(i=f(i,t[1])),t=p.allKeys(e)):(i=D,t=j(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var a=t[o],s=e[a];i(s,a,e)&&(n[a]=s)}return n}),p.omit=v(function(e,n){var t,i=n[0];return p.isFunction(i)?(i=p.negate(i),1<n.length&&(t=n[1])):(n=p.map(j(n,!1,!1),String),i=function(e,t){return!p.contains(n,t)}),p.pick(e,i,t)}),p.defaults=T(p.allKeys,!0),p.create=function(e,t){e=y(e);return t&&p.extendOwn(e,t),e},p.clone=function(e){return p.isObject(e)?p.isArray(e)?e.slice():p.extend({},e):e},p.tap=function(e,t){return t(e),e},p.isMatch=function(e,t){var n=p.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var a=n[r];if(t[a]!==o[a]||!(a in o))return!1}return!0},$=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"==o||"object"==o||"object"==typeof t)&&M(e,t,n,i)},M=function(e,t,n,i){e instanceof p&&(e=e._wrapped),t instanceof p&&(t=t._wrapped);var o=h.call(e);if(o!==h.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var s=(n=n||[]).length;s--;)if(n[s]===e)return i[s]===t;if(n.push(e),i.push(t),r){if((s=e.length)!==t.length)return!1;for(;s--;)if(!$(e[s],t[s],n,i))return!1}else{var l,c=p.keys(e),s=c.length;if(p.keys(t).length!==s)return!1;for(;s--;)if(l=c[s],!w(t,l)||!$(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0},p.isEqual=function(e,t){return $(e,t)},p.isEmpty=function(e){return null==e||(k(e)&&(p.isArray(e)||p.isString(e)||p.isArguments(e))?0===e.length:0===p.keys(e).length)},p.isElement=function(e){return!(!e||1!==e.nodeType)},p.isArray=s||function(e){return"[object Array]"===h.call(e)},p.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){p["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(e){return w(e,"callee")});O=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof O&&(p.isFunction=function(e){return"function"==typeof e||!1}),p.isFinite=function(e){return!p.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},p.isNaN=function(e){return p.isNumber(e)&&isNaN(e)},p.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},p.isNull=function(e){return null===e},p.isUndefined=function(e){return void 0===e},p.has=function(e,t){if(!p.isArray(t))return w(e,t);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(null==e||!r.call(e,o))return!1;e=e[o]}return!!n},p.noConflict=function(){return e._=n,this},p.identity=function(e){return e},p.constant=function(e){return function(){return e}},p.noop=function(){},p.property=function(t){return p.isArray(t)?function(e){return x(e,t)}:b(t)},p.propertyOf=function(t){return null==t?function(){}:function(e){return p.isArray(e)?x(t,e):t[e]}},p.matcher=p.matches=function(t){return t=p.extendOwn({},t),function(e){return p.isMatch(e,t)}},p.times=function(e,t,n){var i=Array(Math.max(0,e));t=f(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},p.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},p.now=Date.now||function(){return(new Date).getTime()};T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=p.invert(T),O=function(t){function n(e){return t[e]}var e="(?:"+p.keys(t).join("|")+")",i=RegExp(e),o=RegExp(e,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,n):e}};p.escape=O(T),p.unescape=O(s),p.result=function(e,t,n){var i=(t=!p.isArray(t)?[t]:t).length;if(!i)return p.isFunction(n)?n.call(e):n;for(var o=0;o<i;o++){var r=null==e?void 0:e[t[o]];void 0===r&&(r=n,o=i),e=p.isFunction(r)?r.call(e):r}return e};var N=0;p.uniqueId=function(e){var t=++N+"";return e?e+t:t},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function R(e){return"\\"+L[e]}var F=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g;p.template=function(r,e,t){!e&&t&&(e=t),e=p.defaults({},e,p.templateSettings);var n,i=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),a=0,s="__p+='";r.replace(i,function(e,t,n,i,o){return s+=r.slice(a,o).replace(z,R),a=o+e.length,t?s+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),e}),s+="';\n",s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(s=!e.variable?"with(obj||{}){\n"+s+"}\n":s)+"return __p;\n";try{n=new Function(e.variable||"obj","_",s)}catch(e){throw e.source=s,e}t=function(e){return n.call(this,e,p)},i=e.variable||"obj";return t.source="function("+i+"){\n"+s+"}",t},p.chain=function(e){e=p(e);return e._chain=!0,e};function H(e,t){return e._chain?p(t).chain():t}p.mixin=function(n){return p.each(p.functions(n),function(e){var t=p[e]=n[e];p.prototype[e]=function(){var e=[this._wrapped];return o.apply(e,arguments),H(this,t.apply(p,e))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=i[t];p.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],H(this,e)}}),p.each(["concat","join","slice"],function(e){var t=i[e];p.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}(),function(){var n;Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return o.apply(this instanceof t&&e?this:e,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),o=this;return t.prototype=this.prototype,n.prototype=new t,n});var i={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function e(){}function t(){}function r(e,t){this._loggers={},this.name=e||"",this._parent=t||null,t||(this._enabled=!0,this._level=i.WARN)}function o(e){n=e}e.prototype={output:function(e,t,n){void 0!==window.console&&void 0!==console.log&&(e&&n.unshift(e+":"),n=n.join(" "),console.info,t<=i.DEBUG?(n="[DEBUG] "+n,console.log(n)):t<=i.INFO?console.info(n):t<=i.WARN?console.warn(n):console.error(n))}},t.prototype={output:function(e,t,n){e&&n.unshift(e+":"),t<=i.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):(t<=i.INFO?console.info:t<=i.WARN?console.warn:console.error).apply(console,n)}},r.prototype={getLogger:function(e){for(var t=e.split("."),n=this,i=this.name?[this.name]:[];t.length;){var o=t.shift();i.push(o),o in n._loggers||(n._loggers[o]=new r(i.join("."),n)),n=n._loggers[o]}return n},_getFlag:function(e){var t=this;for(e="_"+e;null!==t;){if(void 0!==t[e])return t[e];t=t._parent}return null},setEnabled:function(e){this._enabled=!!e},isEnabled:function(){this._getFlag("enabled")},setLevel:function(e){"number"==typeof e?this._level=e:"string"==typeof e&&(e=e.toUpperCase())in i&&(this._level=i[e])},getLevel:function(){return this._getFlag("level")},log:function(e,t){!t.length||!this._getFlag("enabled")||e<this._getFlag("level")||(t=Array.prototype.slice.call(t),n.output(this.name,e,t))},debug:function(){this.log(i.DEBUG,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},error:function(){this.log(i.ERROR,arguments)},fatal:function(){this.log(i.FATAL,arguments)}},window.console&&window.console.log&&"function"==typeof window.console.log.apply?o(new t):o(new e);for(var a,s=new r,l=/loglevel(|-[^=]+)=([^&]+)/g;null!==(a=l.exec(window.location.search));)(""===a[1]?s:s.getLogger(a[1].slice(1))).setLevel(a[2].toUpperCase());var c={Level:i,getLogger:s.getLogger.bind(s),setEnabled:s.setEnabled.bind(s),isEnabled:s.isEnabled.bind(s),setLevel:s.setLevel.bind(s),getLevel:s.getLevel.bind(s),debug:s.debug.bind(s),info:s.info.bind(s),warn:s.warn.bind(s),error:s.error.bind(s),fatal:s.fatal.bind(s),getWriter:function(){return n},setWriter:o};"function"==typeof define?define("logging",[],function(){return c}):window.logging=c}(),define("pat-logger",["logging"],function(e){return e.getLogger("patterns")}),function(e){"function"==typeof define&&define.amd?define("jquery.browser",["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";function t(e){e=(e=void 0===e?window.navigator.userAgent:e).toLowerCase();var t,n,i=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],e={},o={browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:o[0]||""};return o.browser&&(e[o.browser]=!0,e.version=o.version,e.versionNumber=parseInt(o.versionNumber,10)),o.platform&&(e[o.platform]=!0),(e.android||e.bb||e.blackberry||e.ipad||e.iphone||e.ipod||e.kindle||e.playbook||e.silk||e["windows phone"])&&(e.mobile=!0),(e.cros||e.mac||e.linux||e.win)&&(e.desktop=!0),(e.chrome||e.opr||e.safari)&&(e.webkit=!0),(e.rv||e.iemobile)&&(o.browser="msie",e.msie=!0),e.edge&&(delete e.edge,o.browser="msedge",e.msedge=!0),e.safari&&e.blackberry&&(t="blackberry",e[o.browser=t]=!0),e.safari&&e.playbook&&(t="playbook",e[o.browser=t]=!0),e.bb&&(n="blackberry",e[o.browser=n]=!0),e.opr&&(o.browser="opera",e.opera=!0),e.safari&&e.android&&(n="android",e[o.browser=n]=!0),e.safari&&e.kindle&&(o.browser="kindle",e.kindle=!0),e.safari&&e.silk&&(o.browser="silk",e.silk=!0),e.name=o.browser,e.platform=o.platform,e}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser}),define("pat-utils",["jquery","underscore","jquery.browser"],function(r,a,t){r.fn.safeClone=function(){var e=this.clone();return void 0!==t.msie&&e.findInclusive(":input[placeholder]").each(function(e,t){t=r(t);t.attr("placeholder")===t.val()&&t.val("")}),e},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null===this)throw new TypeError(" this is null or not defined");var o,r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(n=t),i=0;i<a;)i in r&&(o=r[i],e.call(n,o,i,r)),i++});function s(e){var t=typeof e;return"function"==t||"object"==t&&!!e}var l={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}};return isElementInViewport=function(e,t,n){if(e===[])return!1;var i=(e=e instanceof r?e[0]:e).getBoundingClientRect(),e=[i.top,i.bottom,i.left,i.right];return!a.every(e,function(e){if(0===e)return!0})&&(t?(void 0===n&&(n=0),i.top<=0+n&&i.bottom>=0+n):0<=i.top&&0<=i.left&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth))},{jqueryPlugin:function(n){return function(e,t){return 0===this.length?this:("object"==typeof e&&(t=e,e=void 0),("function"==typeof n?function(t,n,i){return this.each(function(){var e=r(this),e=t.init(e,i);if(n)return void 0===e[n]?(r.error("Method "+n+" does not exist on jQuery."+t.name),!1):"_"===n.charAt(0)?(r.error("Method "+n+" is private on jQuery."+t.name),!1):void e[n].apply(e,[i])}),this}:function(e,t,n){var i=this;if(t){if(e[t])return e[t].apply(i,[i].concat([n]));r.error("Method "+t+" does not exist on jQuery."+e.name)}else e.init.apply(i,[i].concat([n]));return i}).call(this,n,e,t))}},debounce:function(n,i){var o;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n.apply(e,t)},i)}},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:s,extend:function(e){if(!s(e))return e;for(var t,n,i=1,o=arguments.length;i<o;i++)for(n in t=arguments[i])hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},rebaseURL:function(e,t){return e=new URL(e,window.location).href,-1!==t.indexOf("://")||"/"===t[0]||0===t.indexOf("data:")?t:e.slice(0,e.lastIndexOf("/")+1)+t},findLabel:function(e){for(var t,n=e.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return(t=(t=e.id?r('label[for="'+e.id+'"]'):t)&&0===t.length&&e.form?r('label[for="'+e.name+'"]',e.form):t)&&t.length?t[0]:null},elementInViewport:function(e){var t=e.getBoundingClientRect(),n=document.documentElement,e=window.innerWidth||n.clientWidth,n=window.innerHeight||n.clientHeight;return!(t.right<0||t.bottom<0||t.left>e||t.top>n)},removeWildcardClass:function(e,t){var o;-1===t.indexOf("*")?e.removeClass(t):(o=(o=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&")).replace(/[*]/g,".*"),o=new RegExp("^"+o+"$"),e.filter("[class]").each(function(){for(var e=r(this),t=e.attr("class").split(/\s+/),n=[],i=0;i<t.length;i++)o.test(t[i])||n.push(t[i]);n.length?e.attr("class",n.join(" ")):e.removeAttr("class")}))},hideOrShow:function(e,t,n,i){var o,r="css"===n.transition||"none"===n.transition?null:n.effect.duration;function a(){e.removeClass("in-progress").addClass(t?"visible":"hidden").trigger("pat-update",{pattern:i,transition:"complete"})}e.removeClass("visible hidden in-progress"),r?(o=l[n.transition],e.addClass("in-progress").trigger("pat-update",{pattern:i,transition:"start"}),e[t?o.show:o.hide]({duration:r,easing:n.effect.easing,complete:a})):("css"!==n.transition&&e[t?"show":"hide"](),a())},addURLQueryParameter:function(e,t,n){var i=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),o=(r=e.toString().split("#"))[0],e=r[1],r=o,r=i.test(o)?o.replace(i,"$1"+t+"="+n):/\?.+$/.test(o)?o+"&"+t+"="+n:o+"?"+t+"="+n;return e&&(r+="#"+e),r},removeDuplicateObjects:function(e){return a.reduce(e,function(e,t){var n=!1;return a.each(e,function(e){n=a.keys(e).length===a.keys(t).length&&!a.chain(e).omit(function(e,t){return this[t]===e}.bind(t)).keys().value().length}),n||e.push(t),e},[])},mergeStack:function(e,i){for(var o=[],t=0;t<i;t++)o.push({});return a.each(e,function(e){for(var t=e.length-1,n=0;n<i;n++)o[n]=r.extend(o[n]||{},e[t<n?t:n])}),o},isElementInViewport:isElementInViewport,hasValue:function(e){return"INPUT"===e.tagName?"checkbox"===e.type||"radio"===e.type?e.checked:""!==e.value:"SELECT"===e.tagName?-1!==e.selectedIndex:"TEXTAREA"===e.tagName&&""!==e.value},parseTime:function(e){if(!(e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(e)))throw new Error("Invalid time");var t=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*t);case"m":return Math.round(1e3*t*60);case"ms":default:return Math.round(t)}},findRelatives:function(e){var t=r(e),n=r(e),i=r();return n=(n=n.add(t.closest("label"))).add(t.closest("fieldset")),(i=e.id?r("label[for='"+e.id+"']"):i).length||(i=(t=!(t=t.closest("form")).length?r(document.body):t).find("label[for='"+e.name+"']")),n=n.add(i)},getCSSValue:function(e,t,n){return t=window.getComputedStyle(e).getPropertyValue(t),t=n?parseFloat(t)||0:t}}}),define("pat-compat",[],function(){var o,r,a,s;Array.prototype.every||(Array.prototype.every=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],o=0;o<n;o++)if(o in t&&!e.call(i,t[o],o,t))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i,o=[],r=arguments[1],a=0;a<n;a++)a in t&&(i=t[a],e.call(r,i,a,t)&&o.push(i));return o}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null===this)throw new TypeError(" this is null or not defined");var o,r=Object(this),a=r.length>>>0;if("[object Function]"!=={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),i=0;i<a;)i in r&&(o=r[i],e.call(n,o,i,r)),i++}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0==n)return-1;var i=0;if(0<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var o=0<=i?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0==n)return-1;var i=n;1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i))));for(var o=0<=i?Math.min(i,n-1):n-Math.abs(i);0<=o;o--)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,o;if(null===this)throw new TypeError(" this is null or not defined");var r,a=Object(this),s=a.length>>>0;if("[object Function]"!=={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),i=new Array(s),o=0;o<s;)o in a&&(r=a[o],r=e.call(n,r,o,a),i[o]=r),o++;return i}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Object is null or undefined");var t,n=0,i=this.length>>0;if("function"!=typeof e)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0==i)throw new TypeError("Array length is 0 and no second argument");t=this[0],n=1}else t=arguments[1];for(;n<i;)n in this&&(t=e.call(void 0,t,this[n],n,this)),++n;return t}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;if(0==n&&1===arguments.length)throw new TypeError;var i,o=n-1;if(2<=arguments.length)i=arguments[1];else for(;;){if(o in this){i=this[o--];break}if(--o<0)throw new TypeError}for(;0<=o;)o in t&&(i=e.call(void 0,i,t[o],o,t)),o--;return i}),Array.prototype.some||(Array.prototype.some=function(e){"use strict";if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=arguments[1],o=0;o<n;o++)if(o in t&&e.call(i,t[o],o,t))return!0;return!1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return o.apply(this instanceof t&&e?this:e,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),o=this;return t.prototype=this.prototype,n.prototype=new t,n}),Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),s=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var t,n=[];for(t in e)o.call(e,t)&&n.push(t);if(r)for(var i=0;i<s;i++)o.call(e,a[i])&&n.push(a[i]);return n}))}),define("pat-jquery-ext",["jquery"],function(l){var i={init:function(t){var n={time:3,initialTime:8,exceptionAreas:[]};return this.each(function(){var e=l(this);e.data("timeout")||(t&&l.extend(n,t),e.data("timeout",{lastEvent:new Date,trueTime:n.time,time:n.initialTime,untouched:!0,inExceptionArea:!1}),e.on("mouseover.timeout",i.mouseMoved),e.on("mouseenter.timeout",i.mouseMoved),l(n.exceptionAreas).each(function(){e.find(this).live("mouseover.timeout",{parent:e},i.enteredException).live("mouseleave.timeout",{parent:e},i.leftException)}),0<n.initialTime?e.timeout("startTimer"):e.addClass("timeout"))})},enteredException:function(e){var t=e.data.parent.data("timeout");t.inExceptionArea=!0,e.data.parent.data("timeout",t),e.data.parent.trigger("mouseover")},leftException:function(e){var t=e.data.parent.data("timeout");t.inExceptionArea=!1,e.data.parent.data("timeout",t)},destroy:function(){return this.each(function(){var e=l(this),t=e.data("timeout");l(window).off(".timeout"),t.timeout.remove(),e.removeData("timeout")})},mouseMoved:function(){var e=l(this),t=e.data("timeout");e.hasClass("timeout")?(e.removeClass("timeout"),e.timeout("startTimer")):t.untouched&&(t.untouched=!1,t.time=t.trueTime),t.lastEvent=new Date,e.data("timeout",t)},startTimer:function(){var n=l(this),e=n.data("timeout"),i=function(){var e,t=n.data("timeout");t&&t.lastEvent&&(t.inExceptionArea?setTimeout(i,Math.floor(1e3*t.time)):(e=new Date,0<(t=Math.floor(1e3*t.time)-(e-t.lastEvent))?setTimeout(i,100+t):n.addClass("timeout")))};setTimeout(i,Math.floor(1e3*e.time))}};l.fn.timeout=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void l.error("Method "+e+" does not exist on jQuery.timeout"):i.init.apply(this,arguments)},l.extend(l.expr[":"],{scrollable:function(e){return"scroll"===l(e).css("overflow")||"scroll"===l(e).css("overflowX")||"scroll"===l(e).css("overflowY")||(e.clientHeight<e.scrollHeight&&(-1!==l.inArray(l(e).css("overflowY"),["scroll","auto"])||-1!==l.inArray(l(e).css("overflow"),["scroll","auto"]))||e.clientWidth<e.scrollWidth&&(-1!==l.inArray(l(e).css("overflowX"),["scroll","auto"])||-1!==l.inArray(l(e).css("overflow"),["scroll","auto"])))}}),l.fn.makeVisibleInScroll=function(e){var a=null;return"string"==typeof e?a=l("#"+e):e&&(a=l(e)),this.each(function(){var e=l(this),t=a||(0<(t=e.parents(":scrollable")).length?l(t[0]):l(window)),n=e.position().top,i=e.height()+n,o=t.scrollTop(),r=t.height()+o;n<o?t.scrollTop(n):i>r-t.height()/2&&t.scrollTop(n-(t.height()-e.height())/2)})},l.fn.safeOffset=function(){var e,t=this[0],n={top:0,left:0};return t&&t.nodeType?(e=(t.ownerDocument||document).documentElement,jQuery.contains(e,t)?jQuery.fn.offset.apply(this,arguments):n):n},l.fn.setPositionAbsolute=function(r,a,s){return this.each(function(){var e=l(this),t=l(this).width(),n=r.safeOffset(),i=r.width(),o=r.height(),i=n.left+i-t+s,o=n.top+o+a;e.css({"z-index":1,position:"absolute",marginLeft:0,marginTop:0,left:i+"px",top:o+"px",width:t}),e.remove().appendTo("body").show()})},l.fn.positionAncestor=function(o){var r=0,a=0;return this.each(function(){var e=l(this).closest(o);if(e.length&&"static"!==e.css("position")){var t=l(this),n=t.safeOffset().left-parseInt(t.css("marginLeft"),10),i=t.safeOffset().top-parseInt(t.css("marginTop"),10),t=e.safeOffset().left+parseInt(e.css("borderLeftWidth"),10),e=e.safeOffset().top+parseInt(e.css("borderTopWidth"),10);return r=n-t,a=i-e,!1}}),{left:r,top:a}},String.prototype.startsWith||(String.prototype.startsWith=function(e){return null!==this.match("^"+e)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return null!==this.match(e+"$")}),l.simplePlaceholder={placeholder_class:null,hide_placeholder:function(){var e=l(this);e.val()===e.attr("placeholder")&&e.val("").removeClass(l.simplePlaceholder.placeholder_class)},show_placeholder:function(){var e=l(this);""===e.val()&&e.val(e.attr("placeholder")).addClass(l.simplePlaceholder.placeholder_class)},prevent_placeholder_submit:function(){return l(this).find(".simple-placeholder").each(function(){var e=l(this);e.val()===e.attr("placeholder")&&e.val("")}),!0}},l.fn.simplePlaceholder=function(e){var t;return void 0===document.createElement("input").placeholder&&(t={placeholder_class:"placeholding"},e&&l.extend(t,e),l.simplePlaceholder.placeholder_class=t.placeholder_class,this.each(function(){var e=l(this);e.focus(l.simplePlaceholder.hide_placeholder),e.blur(l.simplePlaceholder.show_placeholder),""===e.val()&&(e.val(e.attr("placeholder")),e.addClass(l.simplePlaceholder.placeholder_class)),e.addClass("simple-placeholder"),l(this.form).submit(l.simplePlaceholder.prevent_placeholder_submit)})),this},l.fn.findInclusive=function(e){return this.find("*").addBack().filter(e)},l.fn.slideIn=function(e,t,n){return this.animate({width:"show"},e,t,n)},l.fn.slideOut=function(e,t,n){return this.animate({width:"hide"},e,t,n)},l.expr[":"].Contains=function(e,t,n){return 0<=l(e).text().toUpperCase().indexOf(n[3].toUpperCase())},l.fn.scopedFind=function(e){return e.startsWith("#")?l(e):this.find(e)}}),define("pat-registry",["jquery","underscore","pat-logger","pat-utils","pat-compat","pat-jquery-ext"],function(r,o,a,i){for(var e,s=a.getLogger("registry"),t=/patterns-disable=([^&]+)/g,n=/patterns-dont-catch/g,l=!1,c={};null!==(e=t.exec(window.location.search));)c[e[1]]=!0,s.info("Pattern disabled via url config:",e[1]);for(;null!==(e=n.exec(window.location.search));)l=!0,s.info("I will not catch init exceptions");var u={patterns:{},initialized:!1,init:function(){r(document).ready(function(){s.info("loaded: "+Object.keys(u.patterns).sort().join(", ")),u.scan(document.body),u.initialized=!0,s.info("finished initial scan.")})},clear:function(){this.patterns={}},transformPattern:function(t,e){if(c[t])s.debug("Skipping disabled pattern:",t);else{var n=u.patterns[t];if(n.transform)try{n.transform(r(e))}catch(e){if(l)throw e;s.error("Transform error for pattern"+t,e)}}},initPattern:function(e,t,n){var i=r(t),o=u.patterns[e];if(o.init&&(plog=a.getLogger("pat."+e),i.is(o.trigger))){plog.debug("Initialising:",i);try{o.init(i,null,n),plog.debug("done.")}catch(e){if(l)throw e;plog.error("Caught error:",e)}}},orderPatterns:function(e){return o.contains(e,"validation")&&o.contains(e,"inject")&&(e.splice(e.indexOf("validation"),1),e.unshift("validation")),e},scan:function(e,n,i){var t=[];(n=this.orderPatterns(n||Object.keys(u.patterns))).forEach(o.partial(this.transformPattern,o,e)),n=o.each(n,function(e){e=u.patterns[e];e.trigger&&t.unshift(e.trigger)}),r(e).findInclusive(t.join(",")).filter(function(){return 0===r(this).parents("pre").length}).filter(":not(.cant-touch-this)").toArray().reduceRight(function(e,t){n.forEach(o.partial(this.initPattern,o,t,i))}.bind(this),null),r("body").addClass("patterns-loaded")},register:function(e,t){var n;return(t=t||e.name)?u.patterns[t]?(s.error("Already have a pattern called: "+t),!1):((u.patterns[t]=e).jquery_plugin&&(n=("pat-"+t).replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()}),r.fn[n]=i.jqueryPlugin(e),r.fn[n.replace(/^pat/,"pattern")]=r.fn[n]),s.debug("Registered pattern:",t,e),u.initialized&&u.scan(document.body,[t]),!0):(s.error("Pattern lacks a name:",e),!1)}};return u}),define("pat-mockup-parser",["jquery"],function(a){"use strict";return{getOptions:function e(t,n,i){i=i||{},0===t.length||a.nodeName(t[0],"body")||(i=e(t.parent(),n,i));var o,r={};return 0!==t.length&&(r=t.data("pat-"+n))&&"string"==typeof r&&(o={},a.each(r.split(";"),function(e,t){(t=t.split(":")).reverse();var n=(n=t.pop()).replace(/^\s+|\s+$/g,"");t.reverse();t=(t=t.join(":")).replace(/^\s+|\s+$/g,"");o[n]=t}),r=o),a.extend(!0,{},i,r)}}}),define("pat-base",["jquery","pat-registry","pat-mockup-parser","pat-logger"],function(o,a,s,l){"use strict";function r(e,t,n){var i=this.prototype.name,o=l.getLogger("pat."+i),r=e.data("pattern-"+i);if(void 0===r&&a.patterns[i]){try{t="mockup"===this.prototype.parser?s.getOptions(e,i,t):t,r=new a.patterns[i](e,t,n)}catch(e){o.error("Failed while initializing '"+i+"' pattern.",e)}e.data("pattern-"+i,r)}return r}function c(e,t,n){this.$el=e,this.options=o.extend(!0,{},this.defaults||{},t||{}),this.init(e,t,n),this.emit("init")}var u=l.getLogger("Patternslib Base");return c.prototype={constructor:c,on:function(e,t){this.$el.on(e+"."+this.name+".patterns",t)},emit:function(e,t){void 0===t&&(t=[]),this.$el.trigger(e+"."+this.name+".patterns",t)}},c.extend=function(e){var t,n=this;if(!e)throw new Error("Pattern configuration properties required when calling Base.extend");(t=e.hasOwnProperty("constructor")?e.constructor:function(){n.apply(this,arguments)}).extend=c.extend,t.init=r,t.jquery_plugin=!0,t.trigger=e.trigger;function i(){this.constructor=t}return i.prototype=n.prototype,t.prototype=new i,o.extend(!0,t.prototype,e),t.__super__=n.prototype,e.name?e.trigger?a.register(t,e.name):u.warn("The pattern '"+e.name+"' does not have a trigger attribute, it will not be registered."):u.warn("This pattern without a name attribute will not be registered!"),t},c}),define("mockup-patterns-inlinevalidation",["jquery","pat-base"],function(a,e){"use strict";return e.extend({name:"inlinevalidation",trigger:".pat-inlinevalidation",parser:"mockup",render_error:function(e,t){var n=a("div.fieldErrorBox",e);""!==t?(e.addClass("error"),n.html(t)):(e.removeClass("error"),n.html(""))},render_error_bootstrap:function(e,t){var n=a("input",e),e=a(".invalid-feedback",e);""!==t?(n.addClass("is-invalid"),e.length?e.html(t):a('<div class="invalid-feedback">'+t+"</div>").insertAfter(n)):(n.removeClass("is-invalid"),e.length&&e.remove())},append_url_path:function(e,t){var n,i=e.split(/\?/),o=i[0];for("/"!==o[o.length-1]&&(o+="/"),o+=t,n=1;n<i.length;n+=1)o+="?"+i[n];return o},queue:function(e,t){void 0===t&&(t=e,e="fx"),a(window).queue(e,t)},validate_archetypes_field:function(e){var t=a(e),n=t.closest(".field"),i=n.attr("data-uid"),o=n.attr("data-fieldname"),e=t.val();t.prop("multiple")&&null===e&&(e=a([]).serialize());var r=a.param({uid:i,fname:o,value:e},!0);n&&i&&o&&this.queue(a.proxy(function(t){a.ajax({type:"POST",url:a("base").attr("href")+"/at_validate_field?"+r,iframe:!1,success:a.proxy(function(e){this.render_error(n,e.errmsg),t()},this),error:function(){t()},dataType:"json"})},this))},validate_formlib_field:function(e){var n=a(e).closest(".field"),i=n.closest("form").clone(),o=n.attr("data-fieldname");i.find("input[type=file]").remove(),this.queue(a.proxy(function(t){i.ajaxSubmit({url:this.append_url_path(i.attr("action"),"@@formlib_validate_field"),data:{fname:o},iframe:!1,success:a.proxy(function(e){this.render_error(n,e.errmsg),t()},this),error:function(){t()},dataType:"json"})},this))},validate_z3cform_field:function(e){var t=a(e),n=t.closest(".field"),e=n.closest("form"),i=e.clone(),o=t.closest("fieldset").attr("data-fieldset"),r=n.attr("data-fieldname");a.each(a("select",e),function(e,t){a('select[name="'+t.name+'"]',i).val(a(t).val())}),i.find("input[type=file]").remove(),r&&this.queue(a.proxy(function(t){i.ajaxSubmit({url:this.append_url_path(i.attr("action"),"@@z3cform_validate_field"),data:{fname:r,fset:o},iframe:!1,success:a.proxy(function(e){n.hasClass("form-group")?this.render_error_bootstrap(n,e.errmsg):this.render_error(n,e.errmsg),t()},this),error:function(){t()},dataType:"json"})},this))},init:function(){this.$el.find('input[type="text"], input[type="password"], input[type="checkbox"], select, textarea').on("blur",a.proxy(function(e){"archetypes"===this.options.type?this.validate_archetypes_field(e.target):"z3c.form"===this.options.type?this.validate_z3cform_field(e.target):"formlib"===this.options.type&&this.validate_formlib_field(e.target)},this))}})}),define("mockup-utils",["jquery"],function(l){"use strict";function e(e){var n=this;return n.className="plone-loader",e=e||{},n.options=l.extend({},{backdrop:null,zIndex:10005},e),n.init=function(){n.$el=l("."+n.className),0===n.$el.length&&(n.$el=l("<div><div></div></div>"),n.$el.addClass(n.className).hide().appendTo("body"))},n.show=function(e){n.init(),n.$el.show();var t=n.options.zIndex;"function"==typeof t?t=Math.max(t(),10005):(t=10005,l(".plone-modal-wrapper,.plone-modal-backdrop").each(function(){t=Math.max(t,l(this).css("zIndex")||10005)}),t+=1),n.$el.css("zIndex",t),void 0===e&&(e=!0),n.options.backdrop&&(n.options.backdrop.closeOnClick=e,n.options.backdrop.closeOnEsc=e,n.options.backdrop.init(),n.options.backdrop.show())},n.hide=function(){n.init(),n.$el.hide()},n}function i(e){return(e=void 0===e?"id":e)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var t={get:function(e){if(window.localStorage){e=window.localStorage[e];return"string"==typeof e?JSON.parse(e):void 0}},set:function(e,t){window.localStorage&&(window.localStorage[e]=JSON.stringify(t))}};return{bool:function(e){return"string"==typeof e&&(e=l.trim(e).toLowerCase()),-1===["false",!1,"0",0,"",void 0,null].indexOf(e)},escapeHTML:function(e){return l("<div/>").text(e).html()},removeHTML:function(e){return e.replace(/<[^>]+>/gi,"")},featureSupport:{dragAndDrop:function(){return"draggable"in document.createElement("span")},fileApi:function(){return"undefined"!=typeof FileReader},history:function(){return!(!window.history||!window.history.pushState)}},generateId:i,getAuthenticator:function(){var e=l('input[name="_authenticator"]');return 0===e.length?0<(e=l('a[href*="_authenticator"]')).length?e.attr("href").split("_authenticator=")[1]:"":e.val()},getWindow:function(){var e=window;return e=e.parent!==window?e.parent:e},Loading:e,loading:new e,parseBodyTag:function(e){return l(/<body[^>]*>[^]*<\/body>/im.exec(e)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()},QueryHelper:function(e){var s=this;return s.options=l.extend({},{pattern:null,vocabularyUrl:null,searchParam:"SearchableText",pathOperator:"plone.app.querystring.operation.string.path",attributes:["UID","Title","Description","getURL","portal_type"],batchSize:10,baseCriteria:[],sort_on:"is_folderish",sort_order:"reverse",pathDepth:1},e),s.pattern=s.options.pattern,void 0!==s.pattern&&null!==s.pattern||(s.pattern={browsing:!1,basePath:"/"}),s.options.url&&!s.options.vocabularyUrl?s.options.vocabularyUrl=s.options.url:s.pattern.vocabularyUrl&&(s.options.vocabularyUrl=s.pattern.vocabularyUrl),s.valid=Boolean(s.options.vocabularyUrl),s.getBatch=function(e){return{page:e||1,size:s.options.batchSize}},s.getCurrentPath=function(){var e=s.pattern,t=s.currentPath||e.currentPath,t=t="function"==typeof t?t():t;return t=t||(e.basePath||e.options.basePath||"/")},s.getCriterias=function(e,t){void 0===t&&(t={});var n=[];return(t=l.extend({},{useBaseCriteria:!0,additionalCriterias:[]},t)).useBaseCriteria&&(n=s.options.baseCriteria.slice(0)),e&&(e+="*",n.push({i:s.options.searchParam,o:"plone.app.querystring.operation.string.contains",v:e})),t.searchPath?n.push({i:"path",o:s.options.pathOperator,v:t.searchPath+"::"+s.options.pathDepth}):s.pattern.browsing&&n.push({i:"path",o:s.options.pathOperator,v:s.getCurrentPath()+"::"+s.options.pathDepth}),n=n.concat(t.additionalCriterias)},s.getQueryData=function(e,t){e={query:JSON.stringify({criteria:s.getCriterias(e),sort_on:s.options.sort_on,sort_order:s.options.sort_order}),attributes:JSON.stringify(s.options.attributes)};return t&&(e.batch=JSON.stringify(s.getBatch(t))),e},s.getUrl=function(){var e=s.options.vocabularyUrl;return-1===e.indexOf("?")?e+="?":e+="&",e+l.param(s.getQueryData())},s.selectAjax=function(){return{url:s.options.vocabularyUrl,dataType:"JSON",quietMillis:100,data:function(e,t){return s.getQueryData(e,t)},results:function(e,t){t=10*t<e.total;return{results:e.results,more:t}}}},s.search=function(e,t,n,i,o,r){void 0===r&&(r="GET");var a=[];(a=(o=void 0===o?!0:o)?s.options.baseCriteria.slice(0):a).push({i:e,o:t,v:n});a={query:JSON.stringify({criteria:a}),attributes:JSON.stringify(s.options.attributes)};l.ajax({url:s.options.vocabularyUrl,dataType:"JSON",data:a,type:r,success:i})},s},setId:function(e,t){void 0===t&&(t="id");var n=void 0===(n=e.attr("id"))?i(t):n.replace(/\./g,"-");return e.attr("id",n),n},storage:t,createElementFromHTML:function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}}}),define("mockup-i18n",["jquery"],function(i){"use strict";return function(){var s=this;s.baseUrl=i("body").attr("data-i18ncatalogurl"),s.currentLanguage=i("html").attr("lang")||"en",1<s.currentLanguage.split("-").length&&(s.currentLanguage=s.currentLanguage.split("-")[0]+"_"+s.currentLanguage.split("-")[1].toUpperCase()),s.storage=null,s.catalogs={},s.ttl=864e5,Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(s.storage=window.localStorage)}catch(e){}s.configure=function(e){for(var t in e)s[t]=e[t]},s._setCatalog=function(e,t,n){e in s.catalogs||(s.catalogs[e]={}),s.catalogs[e][t]=n},s._storeCatalog=function(e,t,n){t=e+"-"+t;null!==s.storage&&null!==n&&(s.storage.setItem(t,JSON.stringify(n)),s.storage.setItem(t+"-updated",Date.now()))},s.getUrl=function(e,t){return s.baseUrl+"?domain="+e+"&language="+t},s.loadCatalog=function(t,n){if(void 0===n&&(n=s.currentLanguage),null!==s.storage){var e=t+"-"+n;if(e in s.storage&&Date.now()-parseInt(s.storage.getItem(e+"-updated"),10)<s.ttl){e=JSON.parse(s.storage.getItem(e));return void s._setCatalog(t,n,e)}}s.baseUrl&&i.getJSON(s.getUrl(t,n),function(e){null!==e&&(s._setCatalog(t,n,e),s._storeCatalog(t,n,e))})},s.MessageFactory=function(r,a){return a=a||s.currentLanguage,function(e,t){var n,i,o=r in s.catalogs&&a in s.catalogs[r]&&e in s.catalogs[r][a]?s.catalogs[r][a][e]:e;if(t)for(i in t)t.hasOwnProperty(i)&&(n=new RegExp("\\$\\{"+i+"\\}","g"),o=o.replace(n,t[i]));return o}}}}),define("translate",["mockup-i18n"],function(i){"use strict";var o=null;return function(e,t){var n;return null===o&&((n=new i).loadCatalog("widgets"),o=n.MessageFactory("widgets")),o(e,t)}}),function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):"object"==typeof window?window.Picker=e(jQuery):this.Picker=e(jQuery)}(function(f){var i=f(window),g=f(document),o=f(document.documentElement),m=null!=document.documentElement.style.transition;function v(o,e,t,n){if(!o)return v;var i=!1,s={id:o.id||"P"+Math.abs(~~(Math.random()*new Date)),handlingOpen:!1},l=t?f.extend(!0,{},t.defaults,n):n||{},r=f.extend({},v.klasses(),l.klass),c=f(o),n=function(){return this.start()},u=n.prototype={constructor:n,$node:c,start:function(){return s&&s.start?u:(s.methods={},s.start=!0,s.open=!1,s.type=o.type,o.autofocus=o==x(),o.readOnly=!l.editable,o.id=o.id||s.id,"text"!=o.type&&(o.type="text"),u.component=new t(u,l),u.$root=f('<div class="'+r.picker+'" id="'+o.id+'_root" />'),w(u.$root[0],"hidden",!0),u.$holder=f(a()).appendTo(u.$root),h(),l.formatSubmit&&function(){var e;!0===l.hiddenName?(e=o.name,o.name=""):e=(e=["string"==typeof l.hiddenPrefix?l.hiddenPrefix:"","string"==typeof l.hiddenSuffix?l.hiddenSuffix:"_submit"])[0]+o.name+e[1];u._hidden=f('<input type=hidden name="'+e+'"'+(c.data("value")||o.value?' value="'+u.get("select",l.formatSubmit)+'"':"")+">")[0],c.on("change."+s.id,function(){u._hidden.value=o.value?u.get("select",l.formatSubmit):""})}(),function(){c.data(e,u).addClass(r.input).val(c.data("value")?u.get("select",l.format):o.value).on("focus."+s.id+" click."+s.id,function(e){e.preventDefault(),u.open()}).on("mousedown",function(){s.handlingOpen=!0;var e=function(){setTimeout(function(){f(document).off("mouseup",e),s.handlingOpen=!1},0)};f(document).on("mouseup",e)}),l.editable||c.on("keydown."+s.id,p);w(o,{haspopup:!0,expanded:!1,readonly:!1,owns:o.id+"_root"})}(),l.containerHidden?f(l.containerHidden).append(u._hidden):c.after(u._hidden),l.container?f(l.container).append(u.$root):c.after(u.$root),u.on({start:u.component.onStart,render:u.component.onRender,stop:u.component.onStop,open:u.component.onOpen,close:u.component.onClose,set:u.component.onSet}).on({start:l.onStart,render:l.onRender,stop:l.onStop,open:l.onOpen,close:l.onClose,set:l.onSet}),i=function(e){var t,n="position";e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]);return"fixed"==t}(u.$holder[0]),o.autofocus&&u.open(),u.trigger("start").trigger("render"))},render:function(e){return e?(u.$holder=f(a()),h(),u.$root.html(u.$holder)):u.$root.find("."+r.box).html(u.component.nodes(s.open)),u.trigger("render")},stop:function(){return s.start&&(u.close(),u._hidden&&u._hidden.parentNode.removeChild(u._hidden),u.$root.remove(),c.removeClass(r.input).removeData(e),setTimeout(function(){c.off("."+s.id)},0),o.type=s.type,o.readOnly=!1,u.trigger("stop"),s.methods={},s.start=!1),u},open:function(e){return s.open?u:(c.addClass(r.active),w(o,"expanded",!0),setTimeout(function(){u.$root.addClass(r.opened),w(u.$root[0],"hidden",!1)},0),!1!==e&&(s.open=!0,i&&f("body").css("overflow","hidden").css("padding-right","+="+y()),i&&m?u.$holder.find("."+r.frame).one("transitionend",function(){u.$holder.eq(0).focus()}):setTimeout(function(){u.$holder.eq(0).focus()},0),g.on("click."+s.id+" focusin."+s.id,function(e){var t;s.handlingOpen||(t=b(e,o),e.isSimulated||t==o||t==document||3==e.which||u.close(t===u.$holder[0]))}).on("keydown."+s.id,function(e){var t=e.keyCode,n=u.component.key[t],i=b(e,o);27==t?u.close(!0):i!=u.$holder[0]||!n&&13!=t?f.contains(u.$root[0],i)&&13==t&&(e.preventDefault(),i.click()):(e.preventDefault(),n?v._.trigger(u.component.key.go,u,[v._.trigger(n)]):u.$root.find("."+r.highlighted).hasClass(r.disabled)||(u.set("select",u.component.item.highlight),l.closeOnSelect&&u.close(!0)))})),u.trigger("open"))},close:function(e){return e&&(l.editable?o.focus():(u.$holder.off("focus.toOpen").focus(),setTimeout(function(){u.$holder.on("focus.toOpen",d)},0))),c.removeClass(r.active),w(o,"expanded",!1),setTimeout(function(){u.$root.removeClass(r.opened+" "+r.focused),w(u.$root[0],"hidden",!0)},0),s.open?(s.open=!1,i&&f("body").css("overflow","").css("padding-right","-="+y()),g.off("."+s.id),u.trigger("close")):u},clear:function(e){return u.set("clear",null,e)},set:function(e,t,n){var i,o,r=f.isPlainObject(e),a=r?e:{};if(n=r&&f.isPlainObject(t)?t:n||{},e){for(i in r||(a[e]=t),a)o=a[i],i in u.component.item&&(void 0===o&&(o=null),u.component.set(i,o,n)),"select"!=i&&"clear"!=i||!l.updateInput||c.val("clear"==i?"":u.get(i,l.format)).trigger("change");u.render()}return n.muted?u:u.trigger("set",a)},get:function(e,t){if(null!=s[e=e||"value"])return s[e];if("valueSubmit"==e){if(u._hidden)return u._hidden.value;e="value"}if("value"==e)return o.value;if(e in u.component.item){if("string"!=typeof t)return u.component.get(e);e=u.component.get(e);return e?v._.trigger(u.component.formats.toString,u.component,[t,e]):""}},on:function(e,t,n){var i,o,r=f.isPlainObject(e),a=r?e:{};if(e)for(i in r||(a[e]=t),a)o=a[i],n&&(i="_"+i),s.methods[i]=s.methods[i]||[],s.methods[i].push(o);return u},off:function(){var e,t=arguments,n=0;for(namesCount=t.length;n<namesCount;n+=1)(e=t[n])in s.methods&&delete s.methods[e];return u},trigger:function(e,t){function n(e){(e=s.methods[e])&&e.map(function(e){v._.trigger(e,u,[t])})}return n("_"+e),n(e),u}};function a(){return v._.node("div",v._.node("div",v._.node("div",v._.node("div",u.component.nodes(s.open),r.box),r.wrap),r.frame),r.holder,'tabindex="-1"')}function h(){u.$holder.on({keydown:p,"focus.toOpen":d,blur:function(){c.removeClass(r.target)},focusin:function(e){u.$root.removeClass(r.focused),e.stopPropagation()},"mousedown click":function(e){var t=b(e,o);t!=u.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||f(t).is("input, select, textarea, button, option")||(e.preventDefault(),u.$holder.eq(0).focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=f(this),t=e.data(),n=e.hasClass(r.navDisabled)||e.hasClass(r.disabled),e=(e=x())&&(e.type||e.href?e:null);(n||e&&!f.contains(u.$root[0],e))&&u.$holder.eq(0).focus(),!n&&t.nav?u.set("highlight",u.component.item.highlight,{nav:t.nav}):!n&&"pick"in t?(u.set("select",t.pick),l.closeOnSelect&&u.close(!0)):t.clear?(u.clear(),l.closeOnClear&&u.close(!0)):t.close&&u.close(!0)})}function d(e){e.stopPropagation(),c.addClass(r.target),u.$root.addClass(r.focused),u.open()}function p(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return u.close(!0),!1;(32==t||n||!s.open&&u.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?u.clear().close():u.open())}return new n}function y(){if(o.height()<=i.height())return 0;var e=f('<div style="visibility:hidden;width:100px" />').appendTo("body"),t=e[0].offsetWidth;e.css("overflow","scroll");var n=f('<div style="width:100%" />').appendTo(e)[0].offsetWidth;return e.remove(),t-n}function b(e,t){var n=[];return e.path&&(n=e.path),(n=e.originalEvent&&e.originalEvent.path?e.originalEvent.path:n)&&0<n.length?t&&0<=n.indexOf(t)?t:n[0]:e.target}function w(e,t,n){if(f.isPlainObject(t))for(var i in t)r(e,i,t[i]);else r(e,t,n)}function r(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function x(){try{return document.activeElement}catch(e){}}return v.klasses=function(e){return{picker:e=e||"picker",opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},v._={group:function(e){for(var t,n="",i=v._.trigger(e.min,e);i<=v._.trigger(e.max,e,[i]);i+=e.i)t=v._.trigger(e.item,e,[i]),n+=v._.node(e.node,t[0],t[1],t[2]);return n},node:function(e,t,n,i){return t?"<"+e+(n=n?' class="'+n+'"':"")+(i=i?" "+i:"")+">"+(t=f.isArray(t)?t.join(""):t)+"</"+e+">":""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return-1<{}.toString.call(e).indexOf("Date")&&this.isInteger(e.getDate())},isInteger:function(e){return-1<{}.toString.call(e).indexOf("Number")&&e%1==0},ariaAttr:function(e,t){f.isPlainObject(e)||(e={attribute:t});for(var n in t="",e){var i=("role"==n?"":"aria-")+n,o=e[n];t+=null==o?"":i+'="'+e[n]+'"'}return t}},v.extend=function(i,o){f.fn[i]=function(e,t){var n=this.data(i);return"picker"==e?n:n&&"string"==typeof e?v._.trigger(n[e],n,[t]):this.each(function(){f(this).data(i)||new v(this,i,o,e)})},f.fn[i].defaults=o.defaults},v}),function(e){"function"==typeof define&&define.amd?define("picker.date",["./picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,f){var t,m=e._;function n(t,n){function e(){return o.currentStyle?"rtl"==o.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction}var i=this,o=t.$node[0],r=o.value,a=t.$node.data("value"),s=a||r,r=a?n.formatSubmit:n.format;i.settings=n,i.$node=t.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(n.disable||[]).slice(0),i.item.enable=-(!0===(a=i.item.disable)[0]?a.shift():-1),i.set("min",n.min).set("max",n.max).set("now"),s?i.set("select",s,{format:r,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return e()?-1:1},37:function(){return e()?1:-1},go:function(e){var t=i.item.highlight,t=new Date(t.year,t.month,t.date+e);i.set("highlight",t,{interval:e}),this.render()}},t.on("render",function(){t.$root.find("."+n.klass.selectMonth).on("change",function(){var e=this.value;e&&(t.set("highlight",[t.get("view").year,e,t.get("highlight").date]),t.$root.find("."+n.klass.selectMonth).trigger("focus"))}),t.$root.find("."+n.klass.selectYear).on("change",function(){var e=this.value;e&&(t.set("highlight",[e,t.get("view").month,t.get("highlight").date]),t.$root.find("."+n.klass.selectYear).trigger("focus"))})},1).on("open",function(){var e="";i.disabled(i.get("now"))&&(e=":not(."+n.klass.buttonToday+")"),t.$root.find("button"+e+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}function i(e,t,n){e=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(e)+1),e.length}function o(e){return e.match(/\w+/)[0].length}n.prototype.set=function(t,n,i){var o=this,e=o.item;return null===n?e[t="clear"==t?"select":t]=n:(e["enable"==t?"disable":"flip"==t?"enable":t]=o.queue[t].split(" ").map(function(e){return n=o[e](t,n,i)}).pop(),"select"==t?o.set("highlight",e.select,i):"highlight"==t?o.set("view",e.highlight,i):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&o.disabled(e.select)&&o.set("select",e.select,i),e.highlight&&o.disabled(e.highlight)&&o.set("highlight",e.highlight,i))),o},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,n){var i;return(t=void 0===t?e:t)==-1/0||t==1/0?i=t:t=f.isPlainObject(t)&&m.isInteger(t.pick)?t.obj:f.isArray(t)?(t=new Date(t[0],t[1],t[2]),m.isDate(t)?t:this.create().obj):m.isInteger(t)||m.isDate(t)?this.normalize(new Date(t),n):this.now(e,t,n),{year:i||t.getFullYear(),month:i||t.getMonth(),date:i||t.getDate(),day:i||t.getDay(),obj:i||t,pick:i||t.getTime()}},n.prototype.createRange=function(e,t){function n(e){return!0===e||f.isArray(e)||m.isDate(e)?i.create(e):e}var i=this;return m.isInteger(e)||(e=n(e)),m.isInteger(t)||(t=n(t)),m.isInteger(e)&&f.isPlainObject(t)?e=[t.year,t.month,t.date+e]:m.isInteger(t)&&f.isPlainObject(e)&&(t=[e.year,e.month,e.date+t]),{from:n(e),to:n(t)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,t,n){var i,o,r,a=f.isArray(t),s=f.isPlainObject(t),l=this.item.view;if(a||s){for(r=s?(i=t.year,o=t.month,t.date):(i=+t[0],o=+t[1],+t[2]),n&&n.nav&&l&&l.month!==o&&(i=l.year,o=l.month),i=(n=new Date(i,o+(n&&n.nav?n.nav:0),1)).getFullYear(),o=n.getMonth();new Date(i,o,r).getMonth()!==o;)--r;t=[i,o,r]}return t},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){return m.isInteger(t)?t=this.now(e,t,{rel:t}):t?"string"==typeof t&&(t=this.parse(e,t)):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,t){var i,o,r,a,s=this,l=n,c=t&&t.interval?t.interval:1,u=-1===s.item.enable,h=s.item.min,d=s.item.max,p=u&&s.item.disable.filter(function(e){var t;return f.isArray(e)&&((t=s.create(e).pick)<n.pick?i=!0:t>n.pick&&(o=!0)),m.isInteger(e)}).length;if((!t||!t.nav&&!t.defaultValue)&&(!u&&s.disabled(n)||u&&s.disabled(n)&&(p||i||o)||!u&&(n.pick<=h.pick||n.pick>=d.pick)))for(u&&!p&&(!o&&0<c||!i&&c<0)&&(c*=-1);s.disabled(n)&&(1<Math.abs(c)&&(n.month<l.month||n.month>l.month)&&(n=l,c=0<c?1:-1),n.pick<=h.pick?(r=!0,c=1,n=s.create([h.year,h.month,h.date+(n.pick===h.pick?0:-1)])):n.pick>=d.pick&&(a=!0,c=-1,n=s.create([d.year,d.month,d.date+(n.pick===d.pick?0:1)])),!r||!a);)n=s.create([n.year,n.month,n.date+c]);return n},n.prototype.disabled=function(t){var n=this,e=(e=n.item.disable.filter(function(e){return m.isInteger(e)?t.day===(n.settings.firstDay?e:e-1)%7:f.isArray(e)||m.isDate(e)?t.pick===n.create(e).pick:f.isPlainObject(e)?n.withinRange(e,t):void 0})).length&&!e.filter(function(e){return f.isArray(e)&&"inverted"==e[3]||f.isPlainObject(e)&&e.inverted}).length;return-1===n.item.enable?!e:e||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(e,i,t){var o=this,r={};return i&&"string"==typeof i?(t&&t.format||((t=t||{}).format=o.settings.format),o.formats.toArray(t.format).map(function(e){var t=o.formats[e],n=t?m.trigger(t,o,[i,r]):e.replace(/^!/,"").length;t&&(r[e]=i.substr(0,n)),i=i.substr(n)}),[r.yyyy||r.yy,+(r.mm||r.m)-1,r.dd||r.d]):i},n.prototype.formats={d:function(e,t){return e?m.digits(e):t.date},dd:function(e,t){return e?2:m.lead(t.date)},ddd:function(e,t){return e?o(e):this.settings.weekdaysShort[t.day]},dddd:function(e,t){return e?o(e):this.settings.weekdaysFull[t.day]},m:function(e,t){return e?m.digits(e):t.month+1},mm:function(e,t){return e?2:m.lead(t.month+1)},mmm:function(e,t){var n=this.settings.monthsShort;return e?i(e,n,t):n[t.month]},mmmm:function(e,t){var n=this.settings.monthsFull;return e?i(e,n,t):n[t.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return m.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}},n.prototype.isDateExact=function(e,t){return m.isInteger(e)&&m.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(m.isDate(e)||f.isArray(e))&&(m.isDate(t)||f.isArray(t))?this.create(e).pick===this.create(t).pick:!(!f.isPlainObject(e)||!f.isPlainObject(t))&&(this.isDateExact(e.from,t.from)&&this.isDateExact(e.to,t.to))},n.prototype.isDateOverlap=function(e,t){var n=this.settings.firstDay?1:0;return m.isInteger(e)&&(m.isDate(t)||f.isArray(t))?(e=e%7+n)===this.create(t).day+1:m.isInteger(t)&&(m.isDate(e)||f.isArray(e))?(t=t%7+n)===this.create(e).day+1:!(!f.isPlainObject(e)||!f.isPlainObject(t))&&this.overlapRanges(e,t)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,t){var i=this,o=i.item.disable.slice(0);return"flip"==t?i.flipEnable():!1===t?(i.flipEnable(1),o=[]):!0===t?(i.flipEnable(-1),o=[]):t.map(function(e){for(var t,n=0;n<o.length;n+=1)if(i.isDateExact(e,o[n])){t=!0;break}t||(m.isInteger(e)||m.isDate(e)||f.isArray(e)||f.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},n.prototype.activate=function(e,t){var r=this,a=r.item.disable,s=a.length;return"flip"==t?r.flipEnable():!0===t?(r.flipEnable(1),a=[]):!1===t?(r.flipEnable(-1),a=[]):t.map(function(e){for(var t,n,i,o=0;o<s;o+=1){if(n=a[o],r.isDateExact(n,e)){i=!(t=a[o]=null);break}if(r.isDateOverlap(n,e)){f.isPlainObject(e)?(e.inverted=!0,t=e):f.isArray(e)?(t=e)[3]||t.push("inverted"):m.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(o=0;o<s;o+=1)if(r.isDateExact(a[o],e)){a[o]=null;break}if(i)for(o=0;o<s;o+=1)if(r.isDateOverlap(a[o],e)){a[o]=null;break}t&&a.push(t)}),a.filter(function(e){return null!=e})},n.prototype.nodes=function(a){function e(e){return m.node("div"," ",l.klass["nav"+(e?"Next":"Prev")]+(e&&d.year>=g.year&&d.month>=g.month||!e&&d.year<=f.year&&d.month<=f.month?" "+l.klass.navDisabled:""),"data-nav="+(e||-1)+" "+m.ariaAttr({role:"button",controls:s.$node[0].id+"_table"})+' title="'+(e?l.labelMonthNext:l.labelMonthPrev)+'"')}function t(){var t=l.showMonthsShort?l.monthsShort:l.monthsFull;return l.selectMonths?m.node("select",m.group({min:0,max:11,i:1,node:"option",item:function(e){return[t[e],0,"value="+e+(d.month==e?" selected":"")+(d.year==f.year&&e<f.month||d.year==g.year&&e>g.month?" disabled":"")]}}),l.klass.selectMonth,(a?"":"disabled")+" "+m.ariaAttr({controls:s.$node[0].id+"_table"})+' title="'+l.labelMonthSelect+'"'):m.node("div",t[d.month],l.klass.month)}var n,i,s=this,l=s.settings,o=s.item,c=o.now,u=o.select,h=o.highlight,d=o.view,p=o.disable,f=o.min,g=o.max,r=(n=(l.showWeekdaysFull?l.weekdaysFull:l.weekdaysShort).slice(0),i=l.weekdaysFull.slice(0),l.firstDay&&(n.push(n.shift()),i.push(i.shift())),m.node("thead",m.node("tr",m.group({min:0,max:6,i:1,node:"th",item:function(e){return[n[e],l.klass.weekdays,'scope=col title="'+i[e]+'"']}})))),o=function(){var t=d.year,e=!0===l.selectYears?5:~~(l.selectYears/2);if(e){var n=f.year,i=g.year,o=t-e,r=t+e;return o<n&&(r+=n-o,o=n),i<r&&(o-=(e=r-i)<(n=o-n)?e:n,r=i),m.node("select",m.group({min:o,max:r,i:1,node:"option",item:function(e){return[e,0,"value="+e+(t==e?" selected":"")]}}),l.klass.selectYear,(a?"":"disabled")+" "+m.ariaAttr({controls:s.$node[0].id+"_table"})+' title="'+l.labelYearSelect+'"')}return m.node("div",t,l.klass.year)};return m.node("div",(l.selectYears?o()+t():t()+o())+e()+e(1),l.klass.header)+m.node("table",r+m.node("tbody",m.group({min:0,max:5,i:1,node:"tr",item:function(e){var t=l.firstDay&&0===s.create([d.year,d.month,1]).day?-7:0;return[m.group({min:7*e-d.day+t+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=s.create([d.year,d.month,e+(l.firstDay?1:0)]);var t,n=u&&u.pick==e.pick,i=h&&h.pick==e.pick,o=p&&s.disabled(e)||e.pick<f.pick||e.pick>g.pick,r=m.trigger(s.formats.toString,s,[l.format,e]);return[m.node("div",e.date,((t=[l.klass.day]).push(d.month==e.month?l.klass.infocus:l.klass.outfocus),c.pick==e.pick&&t.push(l.klass.now),n&&t.push(l.klass.selected),i&&t.push(l.klass.highlighted),o&&t.push(l.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+m.ariaAttr({role:"gridcell",label:r,selected:!(!n||s.$node.val()!==r)||null,activedescendant:!!i||null,disabled:!!o||null})),"",m.ariaAttr({role:"presentation"})]}})]}})),l.klass.table,'id="'+s.$node[0].id+'_table" '+m.ariaAttr({role:"grid",controls:s.$node[0].id,readonly:!0}))+m.node("div",m.node("button",l.today,l.klass.buttonToday,"type=button data-pick="+c.pick+(a&&!s.disabled(c)?"":" disabled")+" "+m.ariaAttr({controls:s.$node[0].id}))+m.node("button",l.clear,l.klass.buttonClear,"type=button data-clear=1"+(a?"":" disabled")+" "+m.ariaAttr({controls:s.$node[0].id}))+m.node("button",l.close,l.klass.buttonClose,"type=button data-close=true "+(a?"":" disabled")+" "+m.ariaAttr({controls:s.$node[0].id})),l.klass.footer)},n.defaults={labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,updateInput:!0,format:"d mmmm, yyyy",klass:{table:(t=e.klasses().picker+"__")+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}},e.extend("pickadate",n)}),function(e){"function"==typeof define&&define.amd?define("picker.time",["./picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,l){var t,o=1440,p=e._;function n(o,r){var t=this,e=o.$node[0].value,n=o.$node.data("value"),i=n||e,e=n?r.formatSubmit:r.format;t.settings=r,t.$node=o.$node,t.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},t.item={},t.item.clear=null,t.item.interval=r.interval||30,t.item.disable=(r.disable||[]).slice(0),t.item.enable=-(!0===(n=t.item.disable)[0]?n.shift():-1),t.set("min",r.min).set("max",r.max).set("now"),i?t.set("select",i,{format:e}):t.set("select",null).set("highlight",t.item.now),t.key={40:1,38:-1,39:1,37:-1,go:function(e){t.set("highlight",t.item.highlight.pick+e*t.item.interval,{interval:e*t.item.interval}),this.render()}},o.on("render",function(){function e(t){return["webkit","moz","ms","o",""].map(function(e){return(e?"-"+e+"-":"")+t})}function t(t,n){e("transform").map(function(e){t.css(e,n)}),e("transition").map(function(e){t.css(e,n)})}var n=o.$root.children(),i=n.find("."+r.klass.viewset);i.length&&(t(n,"none"),n[0].scrollTop=~~i.position().top-2*i[0].clientHeight,t(n,""))},1).on("open",function(){o.$root.find("button").attr("disabled",!1)},1).on("close",function(){o.$root.find("button").attr("disabled",!0)},1)}n.prototype.set=function(t,n,i){var o=this,e=o.item;return null===n?e[t="clear"==t?"select":t]=n:(e["enable"==t?"disable":"flip"==t?"enable":t]=o.queue[t].split(" ").map(function(e){return n=o[e](t,n,i)}).pop(),"select"==t?o.set("highlight",e.select,i):"highlight"==t?o.set("view",e.highlight,i):"interval"==t?o.set("min",e.min,i).set("max",e.max,i):t.match(/^(flip|min|max|disable|enable)$/)&&(e.select&&o.disabled(e.select)&&o.set("select",n,i),e.highlight&&o.disabled(e.highlight)&&o.set("highlight",n,i),"min"==t&&o.set("max",e.max,i))),o},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,n){var i=this;return t=void 0===t?e:t,p.isDate(t)&&(t=[t.getHours(),t.getMinutes()]),l.isPlainObject(t)&&p.isInteger(t.pick)?t=t.pick:l.isArray(t)?t=60*+t[0]+ +t[1]:p.isInteger(t)||(t=i.now(e,t,n)),"max"==e&&t<i.item.min.pick&&(t+=o),"min"!=e&&"max"!=e&&(t-i.item.min.pick)%i.item.interval!=0&&(t+=i.item.interval),{hour:~~(24+(t=i.normalize(e,t,n))/60)%24,mins:(60+t%60)%60,time:(o+t)%o,pick:t%o}},n.prototype.createRange=function(e,t){function n(e){return!0===e||l.isArray(e)||p.isDate(e)?i.create(e):e}var i=this;return p.isInteger(e)||(e=n(e)),p.isInteger(t)||(t=n(t)),p.isInteger(e)&&l.isPlainObject(t)?e=[t.hour,t.mins+e*i.settings.interval]:p.isInteger(t)&&l.isPlainObject(e)&&(t=[e.hour,e.mins+t*i.settings.interval]),{from:n(e),to:n(t)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t){var n=this.item.interval,i=new Date,o=60*i.getHours()+i.getMinutes();return o-=o%n,i=t<0&&n*t+o<=-n,o+="min"==e&&i?0:n,p.isInteger(t)&&(o+=n*(i&&"max"!=e?t+1:t)),o},n.prototype.normalize=function(e,t){var n=this.item.interval,i=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-i)%n},n.prototype.measure=function(e,t,n){return"string"==typeof(t=t||("min"==e?[0,0]:[23,59]))?t=this.parse(e,t):!0===t||p.isInteger(t)?t=this.now(e,t,n):l.isPlainObject(t)&&p.isInteger(t.pick)&&(t=this.normalize(e,t.pick,n)),t},n.prototype.validate=function(e,t,n){var i=this,n=(n&&n.interval?n:i.item).interval;return i.disabled(t)&&(t=i.shift(t,n)),t=i.scope(t),t=i.disabled(t)?i.shift(t,-1*n):t},n.prototype.disabled=function(t){var n=this,e=(e=n.item.disable.filter(function(e){return p.isInteger(e)?t.hour==e:l.isArray(e)||p.isDate(e)?t.pick==n.create(e).pick:l.isPlainObject(e)?n.withinRange(e,t):void 0})).length&&!e.filter(function(e){return l.isArray(e)&&"inverted"==e[2]||l.isPlainObject(e)&&e.inverted}).length;return-1===n.item.enable?!e:e||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.shift=function(e,t){var n=this,i=n.item.min.pick,o=n.item.max.pick;for(t=t||n.item.interval;n.disabled(e)&&!((e=n.create(e.pick+=t)).pick<=i||e.pick>=o););return e},n.prototype.scope=function(e){var t=this.item.min.pick,n=this.item.max.pick;return this.create(e.pick>n?n:e.pick<t?t:e)},n.prototype.parse=function(e,i,t){var n,o,r,a,s,l=this,c={};if(!i||"string"!=typeof i)return i;for(a in t&&t.format||((t=t||{}).format=l.settings.format),l.formats.toArray(t.format).map(function(e){var t=l.formats[e],n=t?p.trigger(t,l,[i,c]):e.replace(/^!/,"").length;t&&(t=i.substr(0,n),c[e]=t.match(/^\d+$/)?+t:t),i=i.substr(n)}),c)s=c[a],p.isInteger(s)?a.match(/^(h|hh)$/i)?(n=s,"h"!=a&&"hh"!=a||(n%=12)):"i"==a&&(o=s):a.match(/^a$/i)&&s.match(/^p/i)&&("h"in c||"hh"in c)&&(r=!0);return 60*(r?n+12:n)+o},n.prototype.formats={h:function(e,t){return e?p.digits(e):t.hour%12||12},hh:function(e,t){return e?2:p.lead(t.hour%12||12)},H:function(e,t){return e?p.digits(e):""+t.hour%24},HH:function(e,t){return e?p.digits(e):p.lead(t.hour%24)},i:function(e,t){return e?2:p.lead(t.mins)},a:function(e,t){return e?4:t.time%o<720?"a.m.":"p.m."},A:function(e,t){return e?2:t.time%o<720?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return p.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}},n.prototype.isTimeExact=function(e,t){return p.isInteger(e)&&p.isInteger(t)||"boolean"==typeof e&&"boolean"==typeof t?e===t:(p.isDate(e)||l.isArray(e))&&(p.isDate(t)||l.isArray(t))?this.create(e).pick===this.create(t).pick:!(!l.isPlainObject(e)||!l.isPlainObject(t))&&(this.isTimeExact(e.from,t.from)&&this.isTimeExact(e.to,t.to))},n.prototype.isTimeOverlap=function(e,t){return p.isInteger(e)&&(p.isDate(t)||l.isArray(t))?e===this.create(t).hour:p.isInteger(t)&&(p.isDate(e)||l.isArray(e))?t===this.create(e).hour:!(!l.isPlainObject(e)||!l.isPlainObject(t))&&this.overlapRanges(e,t)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,t){var i=this,o=i.item.disable.slice(0);return"flip"==t?i.flipEnable():!1===t?(i.flipEnable(1),o=[]):!0===t?(i.flipEnable(-1),o=[]):t.map(function(e){for(var t,n=0;n<o.length;n+=1)if(i.isTimeExact(e,o[n])){t=!0;break}t||(p.isInteger(e)||p.isDate(e)||l.isArray(e)||l.isPlainObject(e)&&e.from&&e.to)&&o.push(e)}),o},n.prototype.activate=function(e,t){var r=this,a=r.item.disable,s=a.length;return"flip"==t?r.flipEnable():!0===t?(r.flipEnable(1),a=[]):!1===t?(r.flipEnable(-1),a=[]):t.map(function(e){for(var t,n,i,o=0;o<s;o+=1){if(n=a[o],r.isTimeExact(n,e)){i=!(t=a[o]=null);break}if(r.isTimeOverlap(n,e)){l.isPlainObject(e)?(e.inverted=!0,t=e):l.isArray(e)?(t=e)[2]||t.push("inverted"):p.isDate(e)&&(t=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(t)for(o=0;o<s;o+=1)if(r.isTimeExact(a[o],e)){a[o]=null;break}if(i)for(o=0;o<s;o+=1)if(r.isTimeOverlap(a[o],e)){a[o]=null;break}t&&a.push(t)}),a.filter(function(e){return null!=e})},n.prototype.i=function(e,t){return p.isInteger(t)&&0<t?t:this.item.interval},n.prototype.nodes=function(e){var s=this,l=s.settings,c=s.item.select,u=s.item.highlight,h=s.item.view,d=s.item.disable;return p.node("ul",p.group({min:s.item.min.pick,max:s.item.max.pick,i:s.item.interval,node:"li",item:function(e){var t,n=(e=s.create(e)).pick,i=c&&c.pick==n,o=u&&u.pick==n,r=d&&s.disabled(e),a=p.trigger(s.formats.toString,s,[l.format,e]);return[p.trigger(s.formats.toString,s,[p.trigger(l.formatLabel,s,[e])||l.format,e]),(t=[l.klass.listItem],i&&t.push(l.klass.selected),o&&t.push(l.klass.highlighted),h&&h.pick==n&&t.push(l.klass.viewset),r&&t.push(l.klass.disabled),t.join(" ")),"data-pick="+e.pick+" "+p.ariaAttr({role:"option",label:a,selected:!(!i||s.$node.val()!==a)||null,activedescendant:!!o||null,disabled:!!r||null})]}})+p.node("li",p.node("button",l.clear,l.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+p.ariaAttr({controls:s.$node[0].id})),"",p.ariaAttr({role:"presentation"})),l.klass.list,p.ariaAttr({role:"listbox",controls:s.$node[0].id}))},n.defaults={clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,updateInput:!0,klass:{picker:(t=e.klasses().picker)+" "+t+"--time",holder:t+"__holder",list:t+"__list",listItem:t+"__list-item",disabled:t+"__list-item--disabled",selected:t+"__list-item--selected",highlighted:t+"__list-item--highlighted",viewset:t+"__list-item--viewset",now:t+"__list-item--now",buttonClear:t+"__button--clear"}},e.extend("pickatime",n)}),function(e){define("select2",[],function(){return function(){var o;void 0===(o=jQuery).fn.each2&&o.extend(o.fn,{each2:function(e){for(var t=o([0]),n=-1,i=this.length;++n<i&&(t.context=t[0]=this[n])&&!1!==e.call(t[0],n,t););return this}}),function(b,v){"use strict";var e,t,n,y,o,s,w,c,i,r,a;function l(e){var t=b(document.createTextNode(""));e.before(t),t.before(e),t.remove()}function u(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return i[e]||e})}function h(e,t){for(var n=0,i=t.length;n<i;n+=1)if(d(e,t[n]))return n;return-1}function d(e,t){return e===t||e!==v&&t!==v&&(null!==e&&null!==t&&(e.constructor===String?e+""==t+"":t.constructor===String&&t+""==e+""))}function p(e,t,n){var i,o,r;if(null===e||e.length<1)return[];for(o=0,r=(i=e.split(t)).length;o<r;o+=1)i[o]=n(i[o]);return i}function f(e){return e.outerWidth(!1)-e.width()}function g(t){var n="keyup-change-value";t.on("keydown",function(){b.data(t,n)===v&&b.data(t,n,t.val())}),t.on("keyup",function(){var e=b.data(t,n);e!==v&&t.val()!==e&&(b.removeData(t,n),t.trigger("keyup-change"))})}function m(t,n,i){var o;return i=i||v,function(){var e=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,e)},t)}}function x(e){e.preventDefault(),e.stopPropagation()}function k(e,t,n){var i,o=[],r=b.trim(e.attr("class"));r&&b((r=""+r).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)}),(r=b.trim(t.attr("class")))&&b((r=""+r).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(i=n(this))&&o.push(i)}),e.attr("class",o.join(" "))}function S(e,t,n,i){var o=u(e.toUpperCase()).indexOf(u(t.toUpperCase())),t=t.length;o<0?n.push(i(e)):(n.push(i(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(i(e.substring(o,o+t))),n.push("</span>"),n.push(i(e.substring(o+t,e.length))))}function C(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function T(r){var e,a=null,t=r.quietMillis||100,s=r.url,l=this;return function(o){window.clearTimeout(e),e=window.setTimeout(function(){var e=r.data,t=s,n=r.transport||b.fn.select2.ajaxDefaults.transport,i={type:r.type||"GET",cache:r.cache||!1,jsonpCallback:r.jsonpCallback||v,dataType:r.dataType||"json"},i=b.extend({},b.fn.select2.ajaxDefaults.params,i),e=e?e.call(l,o.term,o.page,o.context):null,t="function"==typeof t?t.call(l,o.term,o.page,o.context):t;a&&"function"==typeof a.abort&&a.abort(),r.params&&(b.isFunction(r.params)?b.extend(i,r.params.call(l)):b.extend(i,r.params)),b.extend(i,{url:t,dataType:r.dataType,data:e,success:function(e){e=r.results(e,o.page,o);o.callback(e)},error:function(e,t,n){n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};o.callback(n)}}),a=n.call(l,i)},t)}}function O(e){var t,n,i=e,s=function(e){return""+e.text};b.isArray(i)&&(i={results:n=i}),!1===b.isFunction(i)&&(n=i,i=function(){return n});e=i();return e.text&&(s=e.text,b.isFunction(s)||(t=e.text,s=function(e){return e[t]})),function(o){var r,a=o.term,n={results:[]};""!==a?(r=function(e,t){var n,i;if((e=e[0]).children){for(i in n={},e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.children=[],b(e.children).each2(function(e,t){r(t,n.children)}),(n.children.length||o.matcher(a,s(n),e))&&t.push(n)}else o.matcher(a,s(e),e)&&t.push(e)},b(i().results).each2(function(e,t){r(t,n.results)}),o.callback(n)):o.callback(i())}}function E(t){var r=b.isFunction(t);return function(n){var i=n.term,o={results:[]},e=r?t(n):t;b.isArray(e)&&(b(e).each(function(){var e=this.text!==v,t=e?this.text:this;""!==i&&!n.matcher(i,t)||o.results.push(e?this:{id:this,text:this})}),n.callback(o))}}function j(e,t){if(b.isFunction(e))return 1;if(e){if("string"==typeof e)return 1;throw new Error(t+" must be a string, function, or falsy value")}}function A(e,t){if(b.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(t,n)}return e}function _(){var n=this;b.each(arguments,function(e,t){n[t].remove(),n[t]=null})}function I(e,t){function n(){}return((n.prototype=new e).constructor=n).prototype.parent=e.prototype,n.prototype=b.extend(n.prototype,t),n}window.Select2===v&&(s={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which||e){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return 112<=(e=e.which||e)&&e<=123}},i={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"},a=b(document),r=1,y=function(){return r++},e=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(e){var r,t,n,i,o,a=".select2-results";this.opts=e=this.prepareOpts(e),this.id=e.id,e.element.data("select2")!==v&&null!==e.element.data("select2")&&e.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=b(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(e.element.attr("id")||"autogen"+y()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",e.element.attr("title")),this.body=b(document.body),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",e.element.attr("style")),this.container.css(A(e.containerCss,this.opts.element)),this.container.addClass(A(e.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",x),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(e.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",x),this.results=r=this.container.find(a),this.search=t=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",x),this.results.on("mousemove",function(e){s!==v&&s.x===e.pageX&&s.y===e.pageY||b(e.target).trigger("mousemove-filtered",e)}),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),n=80,i=this.results,o=m(n,function(e){i.trigger("scroll-debounced",e)}),i.on("scroll",function(e){0<=h(e.target,i.get())&&o(e)}),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),b(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),b(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),b.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();0<i&&o-i<=0?(r.scrollTop(0),x(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),x(e))}),g(t),t.on("keyup-change input paste",this.bind(this.updateResults)),t.on("focus",function(){t.addClass("select2-focused")}),t.on("blur",function(){t.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(e){0<b(e.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.lastSearchTerm=v,b.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==e.maximumInputLength&&this.search.attr("maxlength",e.maximumInputLength);a=e.element.prop("disabled");a===v&&(a=!1),this.enable(!a);a=e.element.prop("readonly");a===v&&(a=!1),this.readonly(a),w=w||function(){var e=b("<div class='select2-measure-scrollbar'></div>");e.appendTo(document.body);var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",e.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,t=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&n._sync&&e.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,t!==v&&(t.container.remove(),t.liveRegion.remove(),t.dropdown.remove(),e.removeData("select2").off(".select2"),e.is("input[type='hidden']")?e.css("display",""):(e.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())),_.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:d(e.attr("locked"),"locked")||d(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(g){var t,e,n,m=this,a=g.element;if("select"===a.get(0).tagName.toLowerCase()&&(this.select=e=g.element),e&&b.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in g)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),g.debug=g.debug||b.fn.select2.defaults.debug,g.debug&&console&&console.warn&&(null!=g.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=g.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=g.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=g.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=g.ajax&&null!=g.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=g.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=g.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=g.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=g.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=g.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=g.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),g.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=g.element.data("tags")&&(n=g.element.data("tags"),b.isArray(n)||(n=[]),g.element.data("select2Tags",n)),null!=g.sorter&&(g.sortResults=g.sorter),null!=g.selectOnClose&&(g.selectOnBlur=g.selectOnClose),null!=g.ajax&&b.isFunction(g.ajax.processResults)&&(g.ajax.results=g.ajax.processResults),null!=g.language&&(n=g.language,b.isFunction(n.noMatches)&&(g.formatNoMatches=n.noMatches),b.isFunction(n.searching)&&(g.formatSearching=n.searching),b.isFunction(n.inputTooShort)&&(g.formatInputTooShort=n.inputTooShort),b.isFunction(n.inputTooLong)&&(g.formatInputTooLong=n.inputTooLong),b.isFunction(n.loadingMore)&&(g.formatLoading=n.loadingMore),b.isFunction(n.maximumSelected)&&(g.formatSelectionTooBig=n.maximumSelected)),"function"!=typeof(g=b.extend({},{populateResults:function(e,t,h){var d=this.opts.id,p=this.liveRegion,f=function(e,t,n){for(var i,o,r,a,s,l=[],c=0,u=(e=g.sortResults(e,t,h)).length;c<u;c+=1)r=!(s=!0===(i=e[c]).disabled)&&d(i)!==v,a=i.children&&0<i.children.length,(o=b("<li></li>")).addClass("select2-results-dept-"+n),o.addClass("select2-result"),o.addClass(r?"select2-result-selectable":"select2-result-unselectable"),s&&o.addClass("select2-disabled"),a&&o.addClass("select2-result-with-children"),o.addClass(m.opts.formatResultCssClass(i)),o.attr("role","presentation"),(r=b(document.createElement("div"))).addClass("select2-result-label"),r.attr("id","select2-result-label-"+y()),r.attr("role","option"),(s=g.formatResult(i,r,h,m.opts.escapeMarkup))!==v&&(r.html(s),o.append(r)),a&&((a=b("<ul></ul>")).addClass("select2-result-sub"),f(i.children,a,n+1),o.append(a)),o.data("select2-data",i),l.push(o[0]);t.append(l),p.text(g.formatMatches(e.length))};f(t,e,0)}},b.fn.select2.defaults,g)).id&&(t=g.id,g.id=function(e){return e[t]}),b.isArray(g.element.data("select2Tags"))){if("tags"in g)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+g.element.attr("id");g.tags=g.element.data("select2Tags")}if(e?(g.query=this.bind(function(i){var e,n={results:[],more:!1},o=i.term,r=function(e,t){var n;e.is("option")?i.matcher(o,e.text(),e)&&t.push(m.optionToData(e)):e.is("optgroup")&&(n=m.optionToData(e),e.children().each2(function(e,t){r(t,n.children)}),0<n.children.length&&t.push(n))},t=a.children();(t=this.getPlaceholder()!==v&&0<t.length&&(e=this.getPlaceholderOption())?t.not(e):t).each2(function(e,t){r(t,n.results)}),i.callback(n)}),g.id=function(e){return e.id}):"query"in g||("ajax"in g?((e=g.element.data("ajax-url"))&&0<e.length&&(g.ajax.url=e),g.query=T.call(g.element,g.ajax)):"data"in g?g.query=O(g.data):"tags"in g&&(g.query=E(g.tags),g.createSearchChoice===v&&(g.createSearchChoice=function(e){return{id:b.trim(e),text:b.trim(e)}}),g.initSelection===v&&(g.initSelection=function(e,t){var n=[];b(p(e.val(),g.separator,g.transformVal)).each(function(){var e={id:this,text:this},t=g.tags;b.isFunction(t)&&(t=t()),b(t).each(function(){if(d(this.id,e.id))return e=this,!1}),n.push(e)}),t(n)}))),"function"!=typeof g.query)throw"query function not defined for Select2 "+g.element.attr("id");if("top"===g.createSearchChoicePosition)g.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===g.createSearchChoicePosition)g.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof g.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return g},monitorSource:function(){var e,t=this.opts.element,n=this;t.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=t.prop("disabled");e===v&&(e=!1),this.enable(!e);e=t.prop("readonly");e===v&&(e=!1),this.readonly(e),this.container&&(k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(A(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(A(this.opts.dropdownCssClass,this.opts.element)))}),t.length&&t[0].attachEvent&&t.each(function(){this.attachEvent("onpropertychange",n._sync)}),(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==v&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new e(function(e){b.each(e,n._sync)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){e=b.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(e),!e.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=b.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===v&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===v&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,t,n,i=this.dropdown,o=this.container,r=o.offset(),a=o.outerHeight(!1),s=o.outerWidth(!1),l=i.outerHeight(!1),c=b(window),u=c.width(),h=c.height(),d=c.scrollLeft()+u,p=c.scrollTop()+h,f=r.top+a,g=r.left,m=f+l<=p,v=r.top-l>=c.scrollTop(),y=i.outerWidth(!1);i.hasClass("select2-drop-above")?(e=!0,!v&&m&&(e=!(t=!0))):(e=!1,!m&&v&&(e=t=!0)),t&&(i.hide(),r=this.container.offset(),a=this.container.outerHeight(!1),s=this.container.outerWidth(!1),l=i.outerHeight(!1),d=c.scrollLeft()+u,c.scrollTop(),f=r.top+a,g=r.left,y=i.outerWidth(!1),i.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(n=b(".select2-results",i)[0],i.addClass("select2-drop-auto-width"),i.css("width",""),s<(y=i.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:w.width))?s=y:y=s,l=i.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(f-=(n=this.body.offset()).top,g-=n.left),s={left:g=!(g+y<=d)&&r.left+d+o.outerWidth(!1)>y?r.left+this.container.outerWidth(!1)-y:g,width:s},e?(this.container.addClass("select2-drop-above"),i.addClass("select2-drop-above"),l=i.outerHeight(!1),s.top=r.top-l,s.bottom="auto"):(s.top=f,s.bottom="auto",this.container.removeClass("select2-drop-above"),i.removeClass("select2-drop-above")),s=b.extend(s,A(this.opts.dropdownCss,this.opts.element)),i.css(s)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=b.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),a.on("mousemove.select2Event",function(e){s.x=e.pageX,s.y=e.pageY}),!0)},opening:function(){var n,e=this.containerEventName,t="scroll."+e,i="resize."+e,o="orientationchange."+e;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(n=b("#select2-drop-mask")).length&&((n=b(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body),n.on("mousedown touchstart click",function(e){l(n);var t=b("#select2-drop");0<t.length&&((t=t.data("select2")).opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),b("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){b(this).on(i+" "+t+" "+o,function(e){r.opened()&&r.positionDropdown()})})},close:function(){var e,t,n,i;this.opened()&&(e=this.containerEventName,t="scroll."+e,n="resize."+e,i="orientationchange."+e,this.container.parents().add(window).each(function(){b(this).off(t).off(n).off(i)}),this.clearDropdownAlignmentPreference(),b("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),a.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(b.Event("select2-close")))},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var e=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return e!==v&&(this.search.val(e),this.search.select(),!0)},getMaximumSelectionSize:function(){return A(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,t,n,i,o,r=this.results,a=this.highlight();a<0||(0!=a?(e=this.findHighlightableChoices().find(".select2-result-label"),n=(o=((t=b(e[a])).offset()||{}).top||0)+t.outerHeight(!0),a===e.length-1&&0<(i=r.find("li.select2-more-results")).length&&(n=i.offset().top+i.outerHeight(!0)),(i=r.offset().top+r.outerHeight(!1))<n&&r.scrollTop(r.scrollTop()+(n-i)),(o=o-r.offset().top)<0&&"none"!=t.css("display")&&r.scrollTop(r.scrollTop()+o)):r.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var t=this.findHighlightableChoices(),n=this.highlight();-1<n&&n<t.length;){var i=b(t[n+=e]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var t=this.findHighlightableChoices();if(0===arguments.length)return h(t.filter(".select2-highlighted")[0],t.get());(e=e>=t.length?t.length-1:e)<0&&(e=0),this.removeHighlight(),(e=b(t[e])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",e.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(e.text()),(e=e.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var t=b(e.target).closest(".select2-result-selectable");0<t.length&&!t.is(".select2-highlighted")?(e=this.findHighlightableChoices(),this.highlight(e.index(t))):0==t.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,o=this,r=this.search.val(),a=this.context;0!==n.length&&n.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:r,page:i,context:a}),o.postprocessResults(e,!1,!1),!0===e.more?(n.detach().appendTo(t).html(o.opts.escapeMarkup(A(o.opts.formatLoadMore,o.opts.element,i+1))),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=i,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})}))},tokenize:function(){},updateResults:function(n){var e,i=this.search,o=this.results,r=this.opts,a=this,t=i.val(),s=b.data(this.container,"select2-last-term");if((!0===n||!s||!d(t,s))&&(b.data(this.container,"select2-last-term",t),!0===n||!1!==this.showSearchInput&&this.opened())){var l=++this.queryCount,t=this.getMaximumSelectionSize();if(!(1<=t&&(e=this.data(),b.isArray(e)&&e.length>=t&&j(r.formatSelectionTooBig,"formatSelectionTooBig"))))return i.val().length<r.minimumInputLength?(j(r.formatInputTooShort,"formatInputTooShort")?u("<li class='select2-no-results'>"+A(r.formatInputTooShort,r.element,i.val(),r.minimumInputLength)+"</li>"):u(""),void(n&&this.showSearch&&this.showSearch(!0))):void(r.maximumInputLength&&i.val().length>r.maximumInputLength?j(r.formatInputTooLong,"formatInputTooLong")?u("<li class='select2-no-results'>"+A(r.formatInputTooLong,r.element,i.val(),r.maximumInputLength)+"</li>"):u(""):(r.formatSearching&&0===this.findHighlightableChoices().length&&u("<li class='select2-searching'>"+A(r.formatSearching,r.element)+"</li>"),i.addClass("select2-active"),this.removeHighlight(),(e=this.tokenize())!=v&&null!=e&&i.val(e),this.resultsPage=1,r.query({element:r.element,term:i.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(e){var t;if(l==this.queryCount)if(this.opened())if(e.hasError!==v&&j(r.formatAjaxError,"formatAjaxError"))u("<li class='select2-ajax-error'>"+A(r.formatAjaxError,r.element,e.jqXHR,e.textStatus,e.errorThrown)+"</li>");else{if(this.context=e.context===v?null:e.context,this.opts.createSearchChoice&&""!==i.val()&&(t=this.opts.createSearchChoice.call(a,i.val(),e.results))!==v&&null!==t&&a.id(t)!==v&&null!==a.id(t)&&0===b(e.results).filter(function(){return d(a.id(this),a.id(t))}).length&&this.opts.createSearchChoicePosition(e.results,t),0===e.results.length&&j(r.formatNoMatches,"formatNoMatches"))return u("<li class='select2-no-results'>"+A(r.formatNoMatches,r.element,i.val())+"</li>"),void(this.showSearch&&this.showSearch(i.val()));o.empty(),a.opts.populateResults.call(this,o,e.results,{term:i.val(),page:this.resultsPage,context:null}),!0===e.more&&j(r.formatLoadMore,"formatLoadMore")&&(o.append("<li class='select2-more-results'>"+r.escapeMarkup(A(r.formatLoadMore,r.element,this.resultsPage))+"</li>"),window.setTimeout(function(){a.loadMoreIfNeeded()},10)),this.postprocessResults(e,n),c(),this.opts.element.trigger({type:"select2-loaded",items:e})}else this.search.removeClass("select2-active")})})));u("<li class='select2-selection-limit'>"+A(r.formatSelectionTooBig,r.element,t)+"</li>")}function c(){i.removeClass("select2-active"),a.positionDropdown(),o.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?a.liveRegion.text(o.text()):a.liveRegion.text(a.opts.formatMatches(o.find('.select2-result-selectable:not(".select2-selected")').length))}function u(e){o.html(e),c()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var n;(n=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var e=n[0],t=n.val().length;n.focus(),(0<e.offsetWidth||0<e.offsetHeight)&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(t,t):e.createTextRange&&((e=e.createTextRange()).collapse(!1),e.select()))},0)},selectHighlighted:function(e){var t,n;this._touchMoved?this.clearTouchMoved():(t=this.highlight(),(n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data"))?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close())},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==v?e.text():v)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();return this.opts.placeholderOption!==v?"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select):""===b.trim(e.text())&&""===e.val()?e:void 0}},initContainerWidth:function(){var e=function(){var e,t,n,i,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"!==this.opts.width&&"resolve"!==this.opts.width)return b.isFunction(this.opts.width)?this.opts.width():this.opts.width;if("string"==typeof(e=this.opts.element.attr("style")))for(i=0,o=(t=e.split(";")).length;i<o;i+=1)if(null!==(n=t[i].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&1<=n.length)return n[1];return"resolve"===this.opts.width?0<(e=this.opts.element.css("width")).indexOf("%")?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}.call(this);null!==e&&this.container.css("width",e)}}),t=I(e,{createContainer:function(){return b(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,t;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(e=this.search.get(0)).createTextRange?((t=e.createTextRange()).collapse(!1),t.select()):e.setSelectionRange&&(t=this.search.val().length,e.setSelectionRange(t,t))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(b.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){b("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"selection","focusser")},initContainer:function(){var t,e=this.container,n=this.dropdown,i=y();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+i),this.focusser.attr("aria-labelledby","select2-chosen-"+i),this.results.attr("id","select2-results-"+i),this.search.attr("aria-owns","select2-results-"+i),this.focusser.attr("id","s2id_autogen"+i),e=b("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(e.text()).attr("for",this.focusser.attr("id"));i=this.opts.element.attr("title");this.opts.element.attr("title",i||e.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(b("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==c.PAGE_UP&&e.which!==c.PAGE_DOWN)switch(e.which){case c.UP:case c.DOWN:return this.moveHighlight(e.which===c.UP?-1:1),void x(e);case c.ENTER:return this.selectHighlighted(),void x(e);case c.TAB:return void this.selectHighlighted({noFocus:!0});case c.ESC:return this.cancel(e),void x(e)}else x(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&1<this.results.length&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==c.TAB&&!c.isControl(e)&&!c.isFunctionKey(e)&&e.which!==c.ESC){if(!1!==this.opts.openOnEnter||e.which!==c.ENTER)return e.which==c.DOWN||e.which==c.UP||e.which==c.ENTER&&this.opts.openOnEnter?e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?void 0:(this.open(),void x(e)):void(e.which!=c.DELETE&&e.which!=c.BACKSPACE||(this.opts.allowClear&&this.clear(),x(e)));x(e)}})),g(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){0<=this.opts.minimumResultsForSearch&&(e.stopPropagation(),this.opened()||this.open())})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),(e=e).preventDefault(),e.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(e){l(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),x(e)})),n.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){x(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(b.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var t,n=this.selection.data("select2-data");n&&(t=b.Event("select2-clearing"),this.opts.element.trigger(t),t.isDefaultPrevented()||(t=this.getPlaceholderOption(),this.opts.element.val(t?t.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))))},initSelection:function(){var t;this.isPlaceholderOptionSelected()?(this.updateSelection(null),this.close(),this.setPlaceholder()):(t=this).opts.initSelection.call(null,this.opts.element,function(e){e!==v&&null!==e&&(t.updateSelection(e),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())})},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==v&&((e=this.getPlaceholderOption())!==v&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===v||null===this.opts.element.val())},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(e,t){e=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(e))}:"data"in a&&(a.initSelection=a.initSelection||function(e,t){var o=e.val(),r=null;a.query({matcher:function(e,t,n){var i=d(o,a.id(n));return i&&(r=n),i},callback:b.isFunction(t)?function(){t(r)}:b.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===v?v:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();this.isPlaceholderOptionSelected()&&e!==v&&(this.select&&this.getPlaceholderOption()===v||(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")))},postprocessResults:function(e,t,n){var i=0,o=this;this.findHighlightableChoices().each2(function(e,t){if(d(o.id(t.data("select2-data")),o.opts.element.val()))return i=e,!1}),!1!==n&&(!0===t&&0<=i?this.highlight(i):this.highlight(0)),!0!==t||0<=(t=this.opts.minimumResultsForSearch)&&this.showSearch(function n(e){var i=0;return b.each(e,function(e,t){t.children?i+=n(t.children):i++}),i}(e.results)>=t)},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),b(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(e,t){var n,i;this.triggerSelect(e)&&(n=this.opts.element.val(),i=this.data(),this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),d(n,this.id(e))||this.triggerChange({added:e,removed:i}))},updateSelection:function(e){var t,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),n.empty(),(t=null!==e?this.opts.formatSelection(e,n,this.opts.escapeMarkup):t)!==v&&n.append(t),(e=this.opts.formatSelectionCssClass(e,n))!==v&&n.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==v&&this.container.addClass("select2-allowclear")},val:function(){var e,t=!1,n=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],1<arguments.length&&(t=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=i.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),t&&this.triggerChange({added:n,removed:o});else if(e||0===e){if(this.opts.initSelection===v)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),t&&i.triggerChange({added:e,removed:o})})}else this.clear(t)},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var t,n=!1;if(0===arguments.length)return t=(t=this.selection.data("select2-data"))==v?null:t;this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),1<arguments.length&&(n=arguments[1]),e?(t=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:t})):this.clear(n)}}),n=I(e,{createContainer:function(){return b(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var l=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===l.element.get(0).tagName.toLowerCase()?l.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in l&&(l.initSelection=l.initSelection||function(e,r){var a=p(e.val(),l.separator,l.transformVal),s=[];l.query({matcher:function(e,t,n){var i=b.grep(a,function(e){return d(e,l.id(n))}).length;return i&&s.push(n),i},callback:b.isFunction(r)?function(){for(var e=[],t=0;t<a.length;t++)for(var n=a[t],i=0;i<s.length;i++){var o=s[i];if(d(n,l.id(o))){e.push(o),s.splice(i,1);break}}r(e)}:b.noop})}),l},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){b("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"searchContainer","selection")},initContainer:function(){var l,e=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=l=this.container.find(e);var t=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){t.search[0].focus(),t.selectChoice(b(this))}),this.search.attr("id","s2id_autogen"+y()),this.search.prev().text(b("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var t,n,i,o=l.find(".select2-search-choice-focus"),r=o.prev(".select2-search-choice:not(.select2-locked)"),a=o.next(".select2-search-choice:not(.select2-locked)"),i=(t=this.search,s=i=0,"selectionStart"in(t=b(t)[0])?(i=t.selectionStart,s=t.selectionEnd-i):"selection"in document&&(t.focus(),n=document.selection.createRange(),s=document.selection.createRange().text.length,n.moveStart("character",-t.value.length),i=n.text.length-s),{offset:i,length:s});if(o.length&&(e.which==c.LEFT||e.which==c.RIGHT||e.which==c.BACKSPACE||e.which==c.DELETE||e.which==c.ENTER)){var s=o;return e.which==c.LEFT&&r.length?s=r:e.which==c.RIGHT?s=a.length?a:null:e.which===c.BACKSPACE?this.unselect(o.first())&&(this.search.width(10),s=r.length?r:a):e.which==c.DELETE?this.unselect(o.first())&&(this.search.width(10),s=a.length?a:null):e.which==c.ENTER&&(s=null),this.selectChoice(s),x(e),void(s&&s.length||this.open())}if((e.which===c.BACKSPACE&&1==this.keydowns||e.which==c.LEFT)&&0==i.offset&&!i.length)return this.selectChoice(l.find(".select2-search-choice:not(.select2-locked)").last()),void x(e);if(this.selectChoice(null),this.opened())switch(e.which){case c.UP:case c.DOWN:return this.moveHighlight(e.which===c.UP?-1:1),void x(e);case c.ENTER:return this.selectHighlighted(),void x(e);case c.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case c.ESC:return this.cancel(e),void x(e)}if(e.which!==c.TAB&&!c.isControl(e)&&!c.isFunctionKey(e)&&e.which!==c.BACKSPACE&&e.which!==c.ESC){if(e.which===c.ENTER){if(!1===this.opts.openOnEnter)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==c.PAGE_UP&&e.which!==c.PAGE_DOWN||x(e),e.which===c.ENTER&&x(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(b.Event("select2-blur"))})),this.container.on("click",e,this.bind(function(e){this.isInterfaceEnabled()&&(0<b(e.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",e,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(b.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var t;""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),!this.select&&""===this.opts.element.val()||(t=this).opts.initSelection.call(null,this.opts.element,function(e){e!==v&&null!==e&&(t.updateSelection(e),t.close(),t.clearSearch())})},clearSearch:function(){var e=this.getPlaceholder(),t=this.getMaxSearchWidth();e!==v&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(0<t?t:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(b.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var t={},n=[],i=this;b(e).each(function(){i.id(this)in t||(t[i.id(this)]=0,n.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(n),i.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=v&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),!this.opts.closeOnSelect&&0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var t=this.getVal(),n=this;b(e).each(function(){t.push(n.createChoice(this))}),this.setVal(t)},createChoice:function(e){var t=!e.locked,n=b("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),i=b("<li class='select2-search-choice select2-locked'><div></div></li>"),o=t?n:i,n=this.id(e),i=this.opts.formatSelection(e,o.find("div"),this.opts.escapeMarkup);return i!=v&&o.find("div").replaceWith(b("<div></div>").html(i)),(i=this.opts.formatSelectionCssClass(e,o.find("div")))!=v&&o.addClass(i),t&&o.find(".select2-search-choice-close").on("mousedown",x).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(b(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),x(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",e),o.insertBefore(this.searchContainer),n},unselect:function(e){var t,n,i=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(t=e.data("select2-data")){var o=b.Event("select2-removing");if(o.val=this.id(t),o.choice=t,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;0<=(n=h(this.id(t),i));)i.splice(n,1),this.setVal(i),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){0<=h(a.id(t.data("select2-data")),i)&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&!0===this.opts.closeOnSelect&&a.highlight(0),!this.opts.createSearchChoice&&0<!o.filter(".select2-result:not(.select2-selected)").length&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&j(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+A(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-f(this.search)},resizeSearch:function(){var e,t,n,i=f(this.search);t=this.search,o||(n=t[0].currentStyle||window.getComputedStyle(t[0],null),(o=b(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),b(document.body).append(o)),o.text(t.val()),e=o.width()+10,n=this.search.offset().left,(n=(n=(n=(t=this.selection.width())-(n-this.selection.offset().left)-i)<e?t-i:n)<40?t-i:n)<=0&&(n=e),this.search.width(Math.floor(n))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:p(e=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(e){var t,n;this.select?this.select.val(e):(t=[],n={},b(e).each(function(){this in n||(t.push(this),n[this]=0)}),this.opts.element.val(0===t.length?"":t.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)if(d(this.opts.id(t[n]),this.opts.id(e[i]))){t.splice(n,1),n--,e.splice(i,1);break}return{added:t,removed:e}},val:function(e,n){var i,o=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!e&&0!==e)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(e),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===v)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var t=b.map(e,o.id);o.setVal(t),o.updateSelection(e),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],t=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(t.opts.id(b(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,t){var n,i,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return b(this).data("select2-data")}).get();i=this.data(),e=e||[],n=b.map(e,function(e){return o.opts.id(e)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),t&&this.triggerChange(this.buildChangeDetails(i,this.data()))}}),b.fn.select2=function(){var e,t,n,i=Array.prototype.slice.call(arguments,0),o=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],r=["opened","isFocused","container","dropdown"],a=["val","data"],s={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])(e=0===i.length?{}:b.extend({},i[0])).element=b(this),"select"===e.element.get(0).tagName.toLowerCase()?n=e.element.prop("multiple"):(n=e.multiple||!1,"tags"in e&&(e.multiple=n=!0)),(n=new(n?window.Select2.class.multi:window.Select2.class.single)).init(e);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(h(i[0],o)<0)throw"Unknown method: "+i[0];if(t=v,(n=b(this).data("select2"))!==v)return e=i[0],t="container"===e?n.container:"dropdown"===e?n.dropdown:n[e=s[e]?s[e]:e].apply(n,i.slice(1)),!(0<=h(i[0],r)||0<=h(i[0],a)&&1==i.length)&&void 0}}),t===v?this:t},b.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var o=[];return S(this.text(e),n.term,o,i),o.join("")},transformVal:function(e){return b.trim(e)},formatSelection:function(e,t,n){return e?n(this.text(e)):v},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,t){return v},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==v?null:e.id},text:function(e){return e&&this.data&&this.data.text?b.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(e,t){return 0<=u(""+t).toUpperCase().indexOf(u(""+e).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:function(e,t,n,i){var o,r,a,s,l,c=e,u=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return v;for(;;){for(r=-1,a=0,s=i.tokenSeparators.length;a<s&&(l=i.tokenSeparators[a],!(0<=(r=e.indexOf(l))));a++);if(r<0)break;if(o=e.substring(0,r),e=e.substring(r+l.length),0<o.length&&(o=i.createSearchChoice.call(this,o,t))!==v&&null!==o&&i.id(o)!==v&&null!==i.id(o)){for(u=!1,a=0,s=t.length;a<s;a++)if(d(i.id(o),i.id(t[a]))){u=!0;break}u||n(o)}}return c!==e?e:void 0},escapeMarkup:C,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,t){return v},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||0<navigator.msMaxTouchPoints)||!(e.opts.minimumResultsForSearch<0)}},b.fn.select2.locales=[],b.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){e=t-e.length;return"Please enter "+e+" or more character"+(1==e?"":"s")},formatInputTooLong:function(e,t){t=e.length-t;return"Please delete "+t+" character"+(1==t?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},b.extend(b.fn.select2.defaults,b.fn.select2.locales.en),b.fn.select2.ajaxDefaults={transport:b.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:T,local:O,tags:E},util:{debounce:m,markMatch:S,escapeMarkup:C,stripDiacritics:u},class:{abstract:e,single:t,multi:n}})}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jquery.event.drag",["jquery"],function(){return function(){!function(d){d.fn.drag=function(e,t,n){var i="string"==typeof e?e:"",o=d.isFunction(e)?e:d.isFunction(t)?t:null;return 0!==i.indexOf("drag")&&(i="drag"+i),n=(e==o?t:n)||{},o?this.bind(i,n,o):this.trigger(i)};var p=d.event,i=p.special,f=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var n=d.data(this,f.datakey),i=e.data||{};n.related+=1,d.each(f.defaults,function(e,t){void 0!==i[e]&&(n[e]=i[e])})},remove:function(){--d.data(this,f.datakey).related},setup:function(){var e;d.data(this,f.datakey)||(e=d.extend({related:0},f.defaults),d.data(this,f.datakey,e),p.add(this,"touchstart mousedown",f.init,e),this.attachEvent&&this.attachEvent("ondragstart",f.dontstart))},teardown:function(){(d.data(this,f.datakey)||{}).related||(d.removeData(this,f.datakey),p.remove(this,"touchstart mousedown",f.init),f.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",f.dontstart))},init:function(e){if(!f.touched){var t,n=e.data;if(!(0!=e.which&&0<n.which&&e.which!=n.which)&&!d(e.target).is(n.not)&&(!n.handle||d(e.target).closest(n.handle,e.currentTarget).length)&&(f.touched="touchstart"==e.type?this:null,n.propagates=1,n.mousedown=this,n.interactions=[f.interaction(this,n)],n.target=e.target,n.pageX=e.pageX,n.pageY=e.pageY,n.dragging=null,t=f.hijack(e,"draginit",n),n.propagates))return(t=f.flatten(t))&&t.length&&(n.interactions=[],d.each(t,function(){n.interactions.push(f.interaction(this,n))})),n.propagates=n.interactions.length,!1!==n.drop&&i.drop&&i.drop.handler(e,n),f.textselect(!1),f.touched?p.add(f.touched,"touchmove touchend",f.handler,n):p.add(document,"mousemove mouseup",f.handler,n),!(!f.touched||n.live)&&void 0}},interaction:function(e,t){t=d(e)[t.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new f.callback,droppable:[],offset:t}},handler:function(e){var t=e.data;switch(e.type){case!t.dragging&&"touchmove":e.preventDefault();case!t.dragging&&"mousemove":if(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2)<Math.pow(t.distance,2))break;e.target=t.target,f.hijack(e,"dragstart",t),t.propagates&&(t.dragging=!0);case"touchmove":e.preventDefault();case"mousemove":if(t.dragging){if(f.hijack(e,"drag",t),t.propagates){!1!==t.drop&&i.drop&&i.drop.handler(e,t);break}e.type="mouseup"}case"touchend":case"mouseup":default:f.touched?p.remove(f.touched,"touchmove touchend",f.handler):p.remove(document,"mousemove mouseup",f.handler),t.dragging&&(!1!==t.drop&&i.drop&&i.drop.handler(e,t),f.hijack(e,"dragend",t)),f.textselect(!0),!1===t.click&&t.dragging&&d.data(t.mousedown,"suppress.click",(new Date).getTime()+5),t.dragging=f.touched=!1}},hijack:function(n,i,o,e,t){if(o){var r,a,s,l={event:n.originalEvent,type:n.type},c=i.indexOf("drop")?"drag":"drop",u=e||0,h=isNaN(e)?o.interactions.length:e;n.type=i,n.originalEvent=null,o.results=[];do{if(a=o.interactions[u]){if("dragend"!==i&&a.cancelled)continue;s=f.properties(n,o,a),a.results=[],d(t||a[c]||o.droppable).each(function(e,t){if(s.target=t,!(n.isPropagationStopped=function(){return!1})===(r=t?p.dispatch.call(t,n,s):null)?("drag"==c&&(a.cancelled=!0,--o.propagates),"drop"==i&&(a[c][e]=null)):"dropinit"==i&&a.droppable.push(f.element(r)||t),"dragstart"==i&&(a.proxy=d(f.element(r)||a.drag)[0]),a.results.push(r),delete n.result,"dropinit"!==i)return r}),o.results[u]=f.flatten(a.results),"dropinit"==i&&(a.droppable=f.flatten(a.droppable)),"dragstart"!=i||a.cancelled||s.update()}}while(++u<h);return n.type=l.type,n.originalEvent=l.event,f.flatten(o.results)}},properties:function(e,t,n){var i=n.callback;return i.drag=n.drag,i.proxy=n.proxy||n.drag,i.startX=t.pageX,i.startY=t.pageY,i.deltaX=e.pageX-t.pageX,i.deltaY=e.pageY-t.pageY,i.originalX=n.offset.left,i.originalY=n.offset.top,i.offsetX=i.originalX+i.deltaX,i.offsetY=i.originalY+i.deltaY,i.drop=f.flatten((n.drop||[]).slice()),i.available=f.flatten((n.droppable||[]).slice()),i},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(e){return d.map(e,function(e){return e&&e.jquery?d.makeArray(e):e&&e.length?f.flatten(e):e})},textselect:function(e){d(document)[e?"unbind":"bind"]("selectstart",f.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};f.callback.prototype={update:function(){i.drop&&this.available.length&&d.each(this.available,function(e){i.drop.locate(this,e)})}};var t=p.dispatch;p.dispatch=function(e){if(!(0<d.data(this,"suppress."+e.type)-(new Date).getTime()))return t.apply(this,arguments);d.removeData(this,"suppress."+e.type)};var o=p.fixHooks.touchstart=p.fixHooks.touchmove=p.fixHooks.touchend=p.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(n,e){var i;return!e||(i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||null)&&d.each(o.props,function(e,t){n[t]=i[t]}),n}}}(jQuery)}.apply(e,arguments)})}(this),function(e){define("jquery.event.drop",["jquery"],function(){return function(){return function(p){p.fn.drop=function(e,t,n){var i="string"==typeof e?e:"",o=p.isFunction(e)?e:p.isFunction(t)?t:null;return 0!==i.indexOf("drop")&&(i="drop"+i),n=(e==o?t:n)||{},o?this.bind(i,n,o):this.trigger(i)},p.drop=function(e){e=e||{},g.multi=!0===e.multi?1/0:!1===e.multi?1:(isNaN(e.multi)?g:e).multi,g.delay=e.delay||g.delay,g.tolerance=p.isFunction(e.tolerance)?e.tolerance:null===e.tolerance?null:g.tolerance,g.mode=e.mode||g.mode||"intersect"};var f=p.event.special,g=p.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(e){p.data(this,g.datakey).related+=1},remove:function(){--p.data(this,g.datakey).related},setup:function(){p.data(this,g.datakey)||(p.data(this,g.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),g.targets.push(this))},teardown:function(){var t;(p.data(this,g.datakey)||{}).related||(p.removeData(this,g.datakey),t=this,g.targets=p.grep(g.targets,function(e){return e!==t}))},handler:function(e,t){var n;if(t)switch(e.type){case"mousedown":case"touchstart":n=p(g.targets),(n="string"==typeof t.drop?n.filter(t.drop):n).each(function(){var e=p.data(this,g.datakey);e.active=[],e.anyactive=0,e.winner=0}),t.droppable=n,f.drag.hijack(e,"dropinit",t);break;case"mousemove":case"touchmove":g.event=e,g.timer||g.tolerate(t);break;case"mouseup":case"touchend":g.timer=clearTimeout(g.timer),t.propagates&&(f.drag.hijack(e,"drop",t),f.drag.hijack(e,"dropend",t))}},locate:function(e,t){var n=p.data(e,g.datakey),i=p(e),o=i.offset()||{},r=i.outerHeight(),i=i.outerWidth(),r={elem:e,width:i,height:r,top:o.top,left:o.left,right:o.left+i,bottom:o.top+r};return n&&(n.location=r,n.index=t,n.elem=e),r},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,n){return this.contains(n,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,n){return Math.max(0,Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top))*Math.max(0,Math.min(n.right,t.right)-Math.max(n.left,t.left))},fit:function(e,t,n){return this.contains(n,t)?1:0},middle:function(e,t,n){return this.contains(n,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(e){var t,n,i,o,r,a,s,l,c=0,u=e.interactions.length,h=[g.event.pageX,g.event.pageY],d=g.tolerance||g.modes[g.mode];do{if(l=e.interactions[c]){if(!l)return;l.drop=[],r=[],a=l.droppable.length,d&&(i=g.locate(l.proxy)),t=0;do{if(s=l.droppable[t]){if(!(n=(o=p.data(s,g.datakey)).location))continue;o.winner=d?d.call(g,g.event,i,n):g.contains(n,h)?1:0,r.push(o)}}while(++t<a);for(r.sort(g.sort),t=0;(o=r[t])&&(o.winner&&l.drop.length<g.multi?(o.active[c]||o.anyactive||(!1!==f.drag.hijack(g.event,"dropstart",e,c,o.elem)[0]?(o.active[c]=1,o.anyactive+=1):o.winner=0),o.winner&&l.drop.push(o.elem)):o.active[c]&&1==o.anyactive&&(f.drag.hijack(g.event,"dropend",e,c,o.elem),o.active[c]=0,--o.anyactive)),++t<a;);}}while(++c<u);g.last&&h[0]==g.last.pageX&&h[1]==g.last.pageY?delete g.timer:g.timer=setTimeout(function(){g.tolerate(e)},g.delay),g.last=g.event}};f.dropinit=f.dropstart=f.dropend=g}(jQuery),$.drop}.apply(e,arguments)})}(this),define("mockup-patterns-select2",["jquery","pat-base","mockup-utils","select2","jquery.event.drag","jquery.event.drop"],function(s,e,l){"use strict";return e.extend({name:"select2",trigger:".pat-select2",parser:"mockup",defaults:{separator:","},initializeValues:function(){var o=this;o.options.initialValues&&(o.options.id=function(e){return e.id},o.options.initSelection=function(e,t){var n=[],e=e.val(),i=o.options.initialValues;"string"==typeof o.options.initialValues&&""!==o.options.initialValues&&("{"===o.options.initialValues[0]?i=JSON.parse(o.options.initialValues):(i={},s(o.options.initialValues.split(o.options.separator)).each(function(){var e=this.split(":"),t=s.trim(e[0]),e=s.trim(e[1]);i[t]=e}))),s(e.split(o.options.separator)).each(function(){var e=this;i[this]&&(e=i[this]),n.push({id:l.removeHTML(this),text:l.removeHTML(e)})}),t(n)})},initializeTags:function(){var e=this;e.options.tags&&"string"==typeof e.options.tags&&("["===e.options.tags.substr(0,1)?e.options.tags=JSON.parse(e.options.tags):e.options.tags=e.options.tags.split(e.options.separator)),e.options.tags&&!e.options.allowNewItems&&(e.options.data=s.map(e.options.tags,function(e,t){return{id:e,text:e}}),e.options.multiple=!0,delete e.options.tags)},initializeOrdering:function(){var n,i=this;i.options.orderable&&(n=function(e,t){return e?e.text:void 0},i.options.formatSelection&&(n=i.options.formatSelection),i.options.formatSelection=function(e,t){return t.parents("li").drag("start",function(e,t){return s(this).addClass("select2-choice-dragging"),i.$el.select2("onSortStart"),s.drop({tolerance:function(e,t,n){var i=e.pageY>n.top+n.height/2;return s.data(n.elem,"drop+reorder",i?"insertAfter":"insertBefore"),this.contains(n,[e.pageX,e.pageY])}}),s(this).clone().addClass("dragging").css({opacity:.75,position:"absolute"}).appendTo(document.body)}).drag(function(e,t){s(t.proxy).css({top:t.offsetY,left:t.offsetX});var n=t.drop[0],i=s.data(n||{},"drop+reorder");!n||n==t.current&&i==t.method||(s(this)[i](n),t.current=n,t.method=i,t.update())}).drag("end",function(e,t){s(this).removeClass("select2-choice-dragging"),i.$el.select2("onSortEnd"),s(t.proxy).remove()}).drop("init",function(e,t){return this!=t.drag}),n(e,t)})},initializeSelect2:function(){var n=this;function t(e,t){return e&&(n.options.debug&&console.debug("callback",e,t),(e="string"==typeof e?window[e]:e)(t))}n.options.formatResultCssClass=function(e){if(e.id)return"select2-option-"+e.id.toLowerCase().replace(/[ \:\)\(\[\]\{\}\_\+\=\&\*\%\#]/g,"-")},n.$el.select2(n.options),n.$el.on("select2-selected",function(e){t(n.options.onSelected,e)}),n.$el.on("select2-selecting",function(e){t(n.options.onSelecting,e)}),n.$el.on("select2-deselecting",function(e){t(n.options.onDeselecting,e)}),n.$el.on("select2-deselected",function(e){t(n.options.onDeselected,e)}),n.$select2=n.$el.parent().find(".select2-container"),n.$el.parent().off("close.plone-modal.patterns"),n.options.orderable&&n.$select2.addClass("select2-orderable")},opened:function(){return 1===s(".select2-dropdown-open",this.$el.parent()).length},init:function(){var r,e,t,n,a=this;a.options.allowNewItems=!a.options.hasOwnProperty("allowNewItems")||JSON.parse(a.options.allowNewItems),a.options.ajax||a.options.vocabularyUrl?(a.options.vocabularyUrl&&(a.options.multiple=void 0===a.options.multiple||a.options.multiple,a.options.ajax=a.options.ajax||{},a.options.ajax.url=a.options.vocabularyUrl,a.options.initSelection=function(e,t){var n=[],e=e.val();s(e.split(a.options.separator)).each(function(){var e=l.removeHTML(this);n.push({id:e,text:e})}),t(n)}),r="",a.options.ajax=s.extend({quietMillis:300,data:function(e,t){return{query:r=e,page_limit:10,page:t}},results:function(e,t){var n,i,o=e.results;return a.options.vocabularyUrl&&(n=[],s.each(e.results,function(e,t){n.push(t.id)}),o=[],i=""===r||0<=s.inArray(r,n),a.options.allowNewItems&&!i&&(r=l.removeHTML(r),o.push({id:r,text:r})),s.each(e.results,function(e,t){o.push(t)})),{results:o}}},a.options.ajax)):a.options.multiple&&a.$el.is("select")&&(e=a.$el.val()||[],t=s.map(a.$el.find("option"),function(e){return{text:s(e).html(),id:e.value}}),(n=s('<input type="hidden" />')).val(e.join(a.options.separator)),n.attr("class",a.$el.attr("class")),n.attr("name",a.$el.attr("name")),n.attr("id",a.$el.attr("id")),a.$orig=a.$el,a.$el.replaceWith(n),a.$el=n,a.options.data=t),a.initializeValues(),a.initializeTags(),a.initializeOrdering(),a.initializeSelect2()}})}),define("mockup-patterns-pickadate",["jquery","pat-base","mockup-utils","translate","picker","picker.date","picker.time","mockup-patterns-select2"],function(r,e,a,t){"use strict";return e.extend({name:"pickadate",trigger:".pat-pickadate",parser:"mockup",defaults:{separator:" ",date:{selectYears:!0,selectMonths:!0,formatSubmit:"yyyy-mm-dd",format:"yyyy-mm-dd",labelMonthNext:t("Next month"),labelMonthPrev:t("Previous month"),labelMonthSelect:t("Select a month"),labelYearSelect:t("Select a year"),clear:!1,close:!1,today:!1},time:{clear:!1},today:t("Today"),clear:t("Clear"),timezone:null,autoSetTimeOnDateChange:"+[0,0]",classWrapperName:"pattern-pickadate-wrapper",classSeparatorName:"pattern-pickadate-separator",classDateName:"pattern-pickadate-date",classDateWrapperName:"pattern-pickadate-date-wrapper",classTimeName:"pattern-pickadate-time",classTimeWrapperName:"pattern-pickadate-time-wrapper",classTimezoneName:"pattern-pickadate-timezone",classTimezoneWrapperName:"pattern-pickadate-timezone-wrapper",classClearName:"pattern-pickadate-clear",classNowName:"pattern-pickadate-now",placeholderDate:t("Enter date..."),placeholderTime:t("Enter time..."),placeholderTimezone:t("Enter timezone...")},parseTimeOffset:function(t){var e=void 0;0===t.indexOf("+")?(e="+",t=t.split("+")[1]):0===t.indexOf("-")&&(e="-",t=t.split("-")[1]);try{t=JSON.parse(t)}catch(e){t=void 0}if(!1===t)return!1;if(!0===t||!0!==Array.isArray(t))return[0,0];var n,i,o=parseInt(t[0],10)||0,r=parseInt(t[1],10)||0;return"+"!==e&&"-"!==e||(n=(i=new Date).getHours(),i=i.getMinutes(),"+"===e?(23<(o=n+o)&&(o=23),59<(r=i+r)&&(r=59)):"-"===e&&((o=n-o)<0&&(o=0),(r=i-r)<0&&(r=0))),[o,r]},init:function(){var t,n=this,e=n.$el.val().split(" "),i=e[0]||"",o=e[1]||"";!1===a.bool(n.options.date)&&(n.options.date=!1),!1===a.bool(n.options.time)&&(n.options.time=!1),n.options.autoSetTimeOnDateChange=n.parseTimeOffset(n.options.autoSetTimeOnDateChange),!1===n.options.date&&(o=e[0]),n.$el.hide(),n.$wrapper=r("<div/>").addClass(n.options.classWrapperName).insertAfter(n.$el),!1!==n.options.date&&(n.$date=r('<input type="text"/>').attr("placeholder",n.options.placeholderDate).attr("data-value",i).addClass(n.options.classDateName).appendTo(r("<div/>").addClass(n.options.classDateWrapperName).appendTo(n.$wrapper)).pickadate(r.extend(!0,{},n.options.date,{onSet:function(e){void 0!==e.select&&(n.$date.attr("data-value",e.select),!1!==n.options.autoSetTimeOnDateChange&&n.$time&&(n.$time.pickatime("picker").get("select")||n.$time.pickatime("picker").set("select",n.options.autoSetTimeOnDateChange)),!1!==n.options.time&&""===n.$time.attr("data-value")||n.updateValue.call(n)),e.hasOwnProperty("clear")&&(n.$el.val(""),n.$date.attr("data-value",""))}}))),!1!==n.options.time&&(n.options.time.formatSubmit="HH:i",n.$time=r('<input type="text"/>').attr("placeholder",n.options.placeholderTime).attr("data-value",o).addClass(n.options.classTimeName).appendTo(r("<div/>").addClass(n.options.classTimeWrapperName).appendTo(n.$wrapper)).pickatime(r.extend(!0,{},n.options.time,{onSet:function(e){void 0!==e.select&&(n.$time.attr("data-value",e.select),!1!==n.options.date&&""===n.$date.attr("data-value")||n.updateValue.call(n)),e.hasOwnProperty("clear")&&(n.$el.val(""),n.$time.attr("data-value",""))}})),"string"==typeof o&&"00"===o.substring(0,2)&&(n.$time.pickatime("picker").set("select",o.split(":")),n.$time.attr("data-value",o))),!1!==n.options.date&&!1!==n.options.time&&n.options.timezone&&(n.$separator=r("<span/>").addClass(n.options.classSeparatorName).html(" "===n.options.separator?"&nbsp;":n.options.separator).appendTo(n.$wrapper)),null!==n.options.timezone&&(n.$timezone=r('<input type="text"/>').addClass(n.options.classTimezoneName).appendTo(r("<div/>").addClass(n.options.classTimezoneWrapperName).appendTo(n.$wrapper)).patternSelect2(r.extend(!0,{placeholder:n.options.placeholderTimezone,width:"10em"},n.options.timezone,{multiple:!1})).on("change",function(e){void 0!==e.val&&(n.$timezone.attr("data-value",e.val),!1!==n.options.date&&""===n.$date.attr("data-value")||!1!==n.options.time&&""===n.$time.attr("data-value")||n.updateValue.call(n))}),(o=n.options.timezone.default)&&(n.options.timezone.data.some(function(e){return t=e.text===n.options.timezone.default}),t&&(n.$timezone.attr("data-value",o),n.$timezone.parent().find(".select2-chosen").text(o))),1===n.options.timezone.data.length&&(n.$timezone.attr("data-value",n.options.timezone.data[0].text),n.$timezone.parent().find(".select2-chosen").text(n.options.timezone.data[0].text),n.$timezone.select2("enable",!1))),a.bool(n.options.today)&&(n.$now=r('<button type="button" class="btn btn-xs btn-info" title="'+n.options.today+'"><span class="glyphicon glyphicon-time"></span></button>').addClass(n.options.classNowName).on("click",function(e){e.preventDefault();e=new Date;n.$date&&n.$date.data("pickadate").set("select",e),n.$time&&n.$time.data("pickatime").set("select",e),n.emit("updated")}).appendTo(n.$wrapper)),a.bool(n.options.clear)&&(n.$clear=r('<button type="button" class="btn btn-xs btn-danger" title="'+n.options.clear+'"><span class="glyphicon glyphicon-trash"></span></button>').addClass(n.options.classClearName).on("click",function(e){e.preventDefault(),n.$date&&n.$date.data("pickadate").clear(),n.$time&&n.$time.data("pickatime").clear(),n.emit("updated")}).appendTo(n.$wrapper))},updateValue:function(){var e,t,n,i,o=this,r="";!1!==o.options.date&&(t=o.$date.data("pickadate").component,n=o.$date.data("pickadate").get("select"),e=t.formats.toString,n&&(r+=e.apply(t,[o.options.date.formatSubmit,n]))),!1!==o.options.date&&!1!==o.options.time&&(r+=" "),!1!==o.options.time&&(t=o.$time.data("pickatime").component,i=o.$time.data("pickatime").get("select"),n=t.formats.toString,i&&(r+=n.apply(t,["HH:i",i]))),null===o.options.timezone||(i=" "+o.$timezone.attr("data-value"))&&(r+=i),o.$el.val(r),o.emit("updated")}})}),require(["mockup-patterns-inlinevalidation","mockup-patterns-pickadate"],function(){}),define("/Users/fred/buildouts/zeelandia52/develop/collective.anonymouseditpatterns/src/collective/anonymouseditpatterns/browser/static/js/anonymouseditpatterns.js",function(){});
//# sourceMappingURL=anonymouseditpatterns-compiled.min.js.map